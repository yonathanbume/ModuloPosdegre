@model AKDEMIC.PDF.Services.ReportCardGenerator.Models.ReportCardModel
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>Boleta de notas</title>
    <style>
        html, body {
            height: 100%;
        }

        body {
            font-family: "Calibri";
            font-size: 13px;
        }

        h1 {
            margin-bottom: 5px !important;
            font-size: 28px;
        }

        h2 {
            margin: 0px;
            font-size: 18px;
        }

        .img-logo {
            top: 0;
            left: 0;
            max-height: 60px;
        }

        header {
            width: 100%;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-weight: normal;
        }

        th, td {
            border: 1px solid black;
            padding: 3px 3px !important;
        }

        th {
            font-weight: normal;
            text-align: left;
        }

        .red {
            color: red;
        }

        .bold {
            font-weight: bold;
            background-color: lightgray;
        }

        .center {
            text-align: center;
        }

        .header2 {
            font-size: 10px;
            padding: 3px 0px !important;
        }

        .header > th, td {
            border: 1px solid black;
            padding: 5px 3px !important;
        }

        .footer {
            font-size: 16px;
            text-align: center;
            font-style: italic;
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
        }
    </style>
</head>
<body>
    @if (Model.IsProcedure)
    {
        <div style="float:right; font-weight:bold; font-size:15px !important;">
            @Model.UserProcedureCode
        </div>
    }

    <br />
    <table style="border:none !important;">
        <tr>
            <td width="12%" style="border:none !important;">
                <img class="img-logo" src="@Model.ImgPathLogo" />
            </td>
            <td style="border:none !important;">
                <div style="text-align:center;">
                    <h1 class="negrita">@AKDEMIC.CORE.Helpers.GeneralHelpers.GetInstitutionName().ToUpper()</h1>
                    <h2 class="negrita">@Model.HeaderText</h2>
                </div>
            </td>
            <td width="12%" style="border:none !important;">
                &emsp;
            </td>
        </tr>
    </table>
    <br />
    <h2 style="padding-left:5px;">BOLETA DE NOTAS</h2>
    <br />
    <table class="header">
        <tbody>
            <tr>
                <td class="bold" style="width:20%">CÓDIGO:</td>
                <td style="width:50%">@Model.Student.UserName</td>
                <td class="bold" style="width:16%">SEMESTRE ACADÉMICO:</td>
                <td style="width:14%">@Model.Term</td>
            </tr>
            <tr>
                <td class="bold">APELLIDOS Y NOMBRES:</td>
                <td style="width:45%">@Model.Student.FullName</td>
                <td class="bold">CICLO</td>
                <td>@Model.Student.AcademicYear</td>
            </tr>
            <tr>
                <td class="bold">ESCUELA PROFESIONAL:</td>
                <td style="width:45%">@Model.Student.Career</td>
                <td class="bold">PLAN DE ESTUDIO:</td>
                <td>@Model.Student.Curriculum</td>
            </tr>
            <tr>
                <td class="bold">MODALIDAD ADMISIÓN:</td>
                <td>@Model.Student.AdmissionType</td>
                <td class="bold">PPS</td>
                <td>@Model.Student.PPS</td>
            </tr>
            <tr>
                <td class="bold">SEDE/LUGAR:</td>
                <td>@Model.Student.Campus</td>
                <td class="bold">PPA:</td>
                <td>@Model.Student.PPA</td>
            </tr>
        </tbody>
    </table>
    <br />
    <br />
    <table>
        <thead>
            <tr>
                <th class="bold center">CICLO</th>
                <th class="bold center">CODIGO</th>
                <th class="bold center">TIPO</th>
                <th class="bold center">CURSO</th>
                <th class="bold center">SECCIÓN</th>
                <th class="bold center">CRÉDITOS</th>
                <th class="bold center">NOTA</th>
                <th class="bold center">OBSERVACIÓN</th>
            </tr>
        </thead>
        <tbody>
            @for (var i = 0; i < Model.Student.Courses.Count; i++)
            {
                <tr>
                    <th style="text-align:center;">@Model.Student.Courses[i].AcademicYear</th>
                    <th>@Model.Student.Courses[i].Code</th>

                    @if (Model.Student.Courses[i].Type.HasValue && AKDEMIC.CORE.Helpers.ConstantHelpers.AcademicHistory.Types.ABREVIATIONS_V2.ContainsKey(Model.Student.Courses[i].Type.Value))
                    {
                        <th style="text-align:center;">@AKDEMIC.CORE.Helpers.ConstantHelpers.AcademicHistory.Types.ABREVIATIONS_V2[Model.Student.Courses[i].Type.Value]</th>
                    }
                    else
                    {
                        <th style="text-align:center;">-</th>
                    }
                    <th>@Model.Student.Courses[i].Name</th>
                    <th style="text-align:center;">@Model.Student.Courses[i].Section</th>
                    <th style="text-align:center;">@Model.Student.Courses[i].Credits</th>
                    <th style="text-align:center;">@Model.Student.Courses[i].Grade</th>
                    <th style="text-align:center;">@Model.Student.Courses[i].Observation</th>
                </tr>
            }
        </tbody>
    </table>
    <br />
    <br />

    @if (!string.IsNullOrEmpty(Model.SignatuareImgBase64))
    {
        <div style="width:55% !important; float:left; text-align:center;">
            <img style="width:300px !important;" src="@Model.SignatuareImgBase64" />
        </div>
    }



    @if (!Model.IsActiveTerm)
    {
        <table style="width:40% !important; float:right;">
            <tbody>
                <tr>
                    <td class="bold">CRÉDITOS APROBADOS</td>
                    <td style="text-align:center;">@Model.Student.Courses.Where(x=>!x.Withdraw && x.Approved).Sum(x=>x.Credits)</td>
                </tr>
                <tr>
                    <td class="bold">CRÉDITOS DESAPROBADOS</td>
                    <td style="text-align:center;">@Model.Student.Courses.Where(x=>!x.Withdraw && !x.Approved).Sum(x=>x.Credits)</td>
                </tr>
                <tr>
                    <td class="bold">TOTAL CRÉDITOS</td>
                    <td style="text-align:center;">@Model.Student.Courses.Where(x=>!x.Withdraw).Sum(x=>x.Credits)</td>
                </tr>
            </tbody>
        </table>
    }



    @if (Model.IsProcedure)
    {
        <div style="float:left;">
            <img src="@Model.QrCode" style="width:100px !important" />
        </div>
    }


    @*   <div style="width: 100%;">
    <div style="width: 30%; text-align: center;  display: inline-block">
    <img style="width:100px" src="@Model.QrCode" />
    </div>
    <div style="width: 30%; text-align: center;  display: inline-block">
    <label style="border-top: 1px solid black; width: 225px; display: inline-block;font-size: 12px;">
    </label>
    </div>
    </div>*@
    <div class="footer">
        ESTA BOLETA NO TIENE VALOR OFICIAL SINO CUENTA CON EL SELLO Y FIRMA DE LA OFICINA DE REGISTRO Y ARCHIVO ACADÉMICO
    </div>
</body>
</html>
