var requirementes=function(){var t=null,a=$("#Id").val(),e={data:{source:{read:{method:"GET",url:`/admin/seguimiento-de-requerimientos/obtener-requerimientos/${a}`.proto().parseURL()}}},columns:[{field:"requeriment_description",title:"Descripci√≥n del requisito",width:500},{field:"current_status",title:"Estado actual",width:150,template:function(t){return 0==t.current_status?'<span class="m-badge  m-badge--metal m-badge--wide">Pendiente</span>':1==t.current_status?'<span class="m-badge  m-badge--info m-badge--wide">Presentado</span>':2==t.current_status?'<span class="m-badge  m-badge--success m-badge--wide">Aprobado</span>':'<span class="m-badge  m-badge--primary m-badge--wide">Con Observaciones</span>'}},{field:"options",title:"Opciones",width:200,sortable:!1,filterable:!1,template:function(t){var a="";return a+=`<button data-id="${t.id}" class="btn btn-primary btn-sm m-btn m-btn--icon btn-update"><span><i class="flaticon-cogwheel-2"></i><span>Actualizar Estado</span></span></button>`}}]},s=function(){t.on("click",".btn-update",(function(t){t.preventDefault();var a=$(this).data("id");$("#update_area_modal").modal("show"),$("#update-form input[id='rid']").val(a),$("#update-form select[id='status']").select2()})),$("#update-form").validate({submitHandler:function(a,e){$.ajax({type:"POST",url:"/admin/seguimiento-de-requerimientos/actualizar-estado".proto().parseURL(),data:{rid:$("#rid").val(),status:$("#status").val()},success:function(){$("#update_area_modal").modal("hide"),t.reload(),toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success)},error:function(){toastr.success(_app.constants.toastr.message.error.create,_app.constants.toastr.title.error)}})}})};return{load:function(){null!==t&&(t.destroy(),t=null),t=$(".m-datatable").mDatatable(e),s()}}}();$((function(){requirementes.load()}));