var degreeConfiguration={load:function(){$("#grade_select").select2({placeholder:"Seleccione el grado"}),$("#student_select").select2({width:"100%",placeholder:"Buscar...",ajax:{url:"/admin/solicitud-grado-por-requisitos/buscar".proto().parseURL(),dataType:"json",data:function(e){return{term:e.term,page:e.page,degreeType:$("#grade_select").val()}},processResults:function(e,r){return{results:e.items}},cache:!0},escapeMarkup:function(e){return e},minimumInputLength:3}),$("#btn-create").on("click",(function(){var e=$("#student_select").val(),r=$("#grade_select").val();null!=e&&(window.location.href=`/admin/solicitud-grado-por-requisitos/informe/${r}/${e}`.proto().parseURL())})),$("#grade-report-information").validate({submitHandler:function(e,r){r.preventDefault();var t=new FormData($("#grade-report-information")[0]);$(".d_requirement").each((function(e,r){var a=$($(r).find("div").find("input"))[0].files[0],o=$(r).find("textarea").val();t.append(`DegreeRequirements[${e}].DocumentFile`,a),t.append(`DegreeRequirements[${e}].Observation`,o),t.append(`DegreeRequirements[${e}].DegreeRequirementId`,$(r).attr("id"))})),mApp.block("#grade-report-information",{type:"loader",message:"Cargando..."});var a=$(e).find("input[type='submit']");a.addLoader(),$.ajax({url:"/admin/solicitud-grado-por-requisitos/registrar-informe-grado".proto().parseURL(),type:"POST",data:t,contentType:!1,processData:!1,success:function(){toastr.success("Registrado correctamente",_app.constants.toastr.title.success),window.location.href="/admin/solicitud-grado-por-requisitos"}}).fail((function(e){toastr.error(e.responseText,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#grade-report-information"),a.removeLoader()}))}})}};$((function(){degreeConfiguration.load()}));