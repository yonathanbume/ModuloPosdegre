var InitApp=function(){var t=$("#SurveyUserId").val(),n={send:{object:$("#survey-form").validate({submitHandler:function(t,n){n.preventDefault(),mApp.block("#questions");var e=$(t).serialize();$(".btn-send").addLoader(),$("#survey-form input").attr("disabled",!0),$.ajax({url:$(t).attr("action"),type:"POST",data:e}).always((function(){mApp.unblock("#questions"),$(".btn-send").removeLoader()})).done((function(t){$("#survey-form button").hide(),toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),location.href=t})).fail((function(t){$("#survey-form input").attr("disabled",!1),toastr.error(t.responseText,_app.constants.toastr.title.error)}))}})},load:function(){mApp.block("#questions"),$.ajax({url:`/encuestas/${t}/preguntas`.proto().parseURL()}).done((function(t){$("#questions").html(t),$("#btnSend").prop("disabled",!1),$("#btnCancel").prop("disabled",!1)})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#questions")}))},events:function(){$(".btn-cancel").click((function(){location.href="/encuestas".proto().parseURL()}))},init:function(){n.load(),n.events()}};return{init:function(){$("#btnSend").prop("disabled",!0),$("#btnCancel").prop("disabled",!0),n.init()}}}();$((function(){InitApp.init()}));