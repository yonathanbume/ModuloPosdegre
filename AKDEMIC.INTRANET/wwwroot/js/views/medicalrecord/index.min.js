var medicalRecord=function(){var e=function(){$("#medical-record-form").validate({submitHandler:function(e){var o=$(e).find("button[type='submit']");o.addLoader(),$.ajax({type:"POST",url:"/ficha-medica/guardar".proto().parseURL(),data:$(e).serialize(),success:function(e){toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),$("#btn-go-to").show(),window.open(e,"_blank")},error:function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)},complete:function(){o.removeLoader()}})}})};return{init:function(){$("#HasDrugAllergy").on("change",(function(){var e=$(this).val();"True"==e||"true"==e?$("#DrugAllergyDescription").prop("disabled",!1):$("#DrugAllergyDescription").prop("disabled",!0)})),$("#BloodTypeKnowledge").on("change",(function(){var e=$(this).val();"True"==e||"true"==e?($("#BloodType").prop("disabled",!1),$("#RhFactor").prop("disabled",!1)):($("#BloodType").prop("disabled",!0),$("#RhFactor").prop("disabled",!0))})),$("#HasDrugAllergy").on("change"),$("#BloodTypeKnowledge").on("change"),e()}}}();$((function(){medicalRecord.init()}));