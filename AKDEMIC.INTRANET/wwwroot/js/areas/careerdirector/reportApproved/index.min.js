var reportApproved=function(){var e=null,a=getSimpleDataTableConfiguration({url:"/director-carrera/reporte-aprobados-desaprobados/get".proto().parseURL(),data:function(e){e.cid=$("#select_career").val(),e.pid=$("#select_terms").val(),e.name=$("#search").val()},pageLength:10,orderable:[],columns:[{data:"name",title:"Nombres Completos"},{data:"code",title:"Código"},{data:"career",title:"Carrera"},{data:"academicProgram",title:"Especialidad"},{data:"observations",title:"Mérito",render:function(e){return 0===e?`<span >${_app.constants.academicOrder.upperThird.text}</span>`:1===e?`<span >${_app.constants.academicOrder.upperFifth.text}</span>`:`<span >${_app.constants.academicOrder.upperTenth.text}</span>`}},{data:"order",title:"Orden de Mérito"},{data:"finalgrade",title:"Nota final"},{data:"approbed",title:"Estado",render:function(e){return!0===e?'<span class="m-badge  m-badge--success m-badge--wide">Aprobado</span>':'<span class="m-badge  m-badge--danger m-badge--wide">Desaprobado</span>'}}]}),r=function(){null===e?e=$("#datatable_index").DataTable(a):e.ajax.reload()},t=function(){$.when(void $("#select_career").select2({ajax:{delay:1e3,url:"/director-carrera/reporte-aprobados-desaprobados/getCarreras".proto().parseURL(),data:function(e){return{search:e.term}}},allowClear:!0,minimumInputLength:0,placeholder:"Seleccione carrera"}).on("change",(function(e){o(),r()})),($.ajax({url:"/periodos/get".proto().parseURL()}).done((function(e){$("#select_terms").select2({data:e.items}).val(e.selected).trigger("change")})),void $("#select_terms").on("change",(function(e){o(),r()})))).done((function(){var e;o(),r(),e=0,$("#search").keyup((function(){clearTimeout(e),e=setTimeout((function(){r()}),500)}))}))},o=function(){google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback((function(){var e=$("#select_terms").val(),a=$("#select_career").val();$.ajax({type:"GET",url:`/director-carrera/reporte-aprobados-desaprobados/chart/${a}/${e}`.proto().parseURL(),error:function(e,a,r){toastr.error(err.message)},success:function(e){e.length>0?function(e){var a=[["",""]];$.each(e,(function(e,r){a.push([r.approbedname,r.approbeds]),a.push([r.disapprobedname,r.disapprobeds])})),e=google.visualization.arrayToDataTable(a);var r={title:"Aprobados vs desaprobados",height:400,width:700,colors:["#D32F2F","#43A047"],titleFontSize:20,is3D:!0};new google.visualization.PieChart(document.getElementById("chart_div_report_approbed_disapprobed")).draw(e,r)}(e):document.getElementById("chart_div_report_approbed_disapprobed").innerHTML=""}})}))};return{load:function(){t()}}}();$((function(){reportApproved.load()}));