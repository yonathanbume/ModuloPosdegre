var InitApp=function(){var e={students:{object:null,options:getSimpleDataTableConfiguration({dom:'<"top"i>rt<"bottom"flp><"clear">',url:"/director-carrera/alumnos/get".proto().parseURL(),data:function(e){e.faculty=$("#faculty_select").val(),e.career=$("#career_select").val(),e.academicProgram=$("#academicProgram_select").val(),e.search=$("#search").val()},pageLength:50,orderable:[],columns:[{title:"CÃ³digo",data:"user.userName"},{title:"Estudiante",data:"user.fullName"},{title:"Facultad",data:"career.faculty.name"},{title:"Carrera",data:"career.name"},{title:"Especialidad",data:"academicProgram.name"},{title:"Detalle",data:null,render:function(e){return`<div class="table-options-section">\n                                <a href="${`/director-carrera/alumnos/informacion/${e.id}`.proto().parseURL()}" class="btn btn-info btn-sm m-btn m-btn--icon m-btn--icon-only"><i class="la la-eye"></i></a>                            \n                            </div>`}}]}),init:function(){e.students.object=$("#students_table").DataTable(e.students.options),$("#search").doneTyping((function(){e.students.object.ajax.reload()}))},reload:function(){e.students.object.ajax.reload()}}},a={faculty:{init:function(){$.ajax({url:"/director-carrera/alumnos/facultades/get".proto().parseURL()}).done((function(e){$("#faculty_select").select2({data:e.results}),a.faculty.events()}))},events:function(){$("#faculty_select").on("change",(function(){var t=$("#faculty_select").val();a.career.load(t),e.students.reload()}))}},career:{init:function(){$("#career_select").select2({placeholder:"Seleccione una Carrera"}),a.career.events()},load:function(e){$("#career_select").empty(),$.ajax({url:`/director-carrera/alumnos/carreras/get?facultyId=${e}`.proto().parseURL()}).done((function(e){$("#career_select").select2({data:e.results,disabled:!1,placeholder:"Seleccione una Carrera"}).trigger("change")}))},events:function(){$("#career_select").on("change",(function(){a.academicProgram.load($("#career_select").val()),e.students.reload()}))}},academicProgram:{init:function(){$("#academicProgram_select").select2({placeholder:"Seleccione una Especialidad"}),a.academicProgram.events()},load:function(e){$("#academicProgram_select").empty(),$.ajax({url:`/director-carrera/alumnos/especialidades/get?careerId=${e}`.proto().parseURL()}).done((function(e){e.results.unshift({id:_app.constants.guid.empty,text:"Todas"}),$("#academicProgram_select").select2({placeholder:"Seleccione una Especialidad",data:e.results,disabled:!1,allowClear:!0})}))},events:function(){$("#academicProgram_select").on("change",(function(){e.students.reload()}))}},init:function(){a.faculty.init(),a.academicProgram.init(),a.career.init()}};return{init:function(){e.students.init(),a.init()}}}(),Search=function(){var e={init:function(){$("#search").select2({width:"100%",placeholder:"Buscar...",ajax:{url:"/director-carrera/alumnos/buscar".proto().parseURL(),dataType:"json",data:function(e){return{term:e.term,page:e.page}},processResults:function(e,a){return{results:e.items}},cache:!0},escapeMarkup:function(e){return e},minimumInputLength:3}),$("#btn-search").on("click",(function(){var e=$("#search").val();if(""==e)return swal("Seleccione un estudiante","Debe buscar y seleccionar un estudiante primero","warning"),!1;window.location.href=`/director-carrera/alumnos/informacion/${e}`.proto().parseURL()}))}};return{init:function(){e.init()}}}();$((function(){Search.init()}));