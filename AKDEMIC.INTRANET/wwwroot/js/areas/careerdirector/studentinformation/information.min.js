var InitApp=function(){var t=$("#Id").val(),a={return:{load:function(){$(".index-return").on("click",(function(){$("#option-block").removeClass("m--hide"),$("#information-block").addClass("m--hide"),$("#information-block").html(""),e.clear()}))}},options:{load:function(){$(".general-data").on("click",(function(){$("#option-block").addClass("m--hide"),$("#information-block").removeClass("m--hide"),mApp.block("#information-block"),$.ajax({url:`/director-carrera/alumnos/informacion/${t}/datos-generales`.proto().parseURL()}).done((function(t){$("#information-block").html(t),a.information.load(),e.general.init()})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#information-block")}))})),$(".password").on("click",(function(){$("#option-block").addClass("m--hide"),$("#information-block").removeClass("m--hide"),mApp.block("#information-block"),$.ajax({url:`/director-carrera/alumnos/informacion/${t}/cambiar-clave`.proto().parseURL()}).done((function(t){$("#information-block").html(t),a.password.load(),e.password.init()})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#information-block")}))})),$(".user-procedures").on("click",(function(){$("#option-block").addClass("m--hide"),$("#information-block").removeClass("m--hide"),mApp.block("#information-block"),$.ajax({url:`/director-carrera/alumnos/informacion/${t}/tramites`.proto().parseURL()}).done((function(t){$("#information-block").html(t),a.information.load(),e.procedures.init()})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#information-block")}))})),$(".enrollment").on("click",(function(){$("#option-block").addClass("m--hide"),$("#information-block").removeClass("m--hide"),mApp.block("#information-block"),$.ajax({url:`/director-carrera/alumnos/informacion/${t}/matricula-actual`.proto().parseURL()}).done((function(t){$("#information-block").html(t),a.return.load(),e.enrollment.init()})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#information-block")}))})),$(".schedule").on("click",(function(){$("#option-block").addClass("m--hide"),$("#information-block").removeClass("m--hide"),mApp.block("#information-block"),$.ajax({url:`/director-carrera/alumnos/informacion/${t}/horario`.proto().parseURL()}).done((function(t){$("#information-block").html(t),a.return.load(),e.schedule.init()})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#information-block")}))})),$(".academic-history").on("click",(function(){$("#option-block").addClass("m--hide"),$("#information-block").removeClass("m--hide"),mApp.block("#information-block"),$.ajax({url:`/director-carrera/alumnos/informacion/${t}/historial`.proto().parseURL()}).done((function(t){$("#information-block").html(t),a.return.load(),e.academichistory.init()})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#information-block")}))})),$(".assistance-history").on("click",(function(){$("#option-block").addClass("m--hide"),$("#information-block").removeClass("m--hide"),mApp.block("#information-block"),$.ajax({url:`/director-carrera/alumnos/informacion/${t}/asistencia`.proto().parseURL()}).done((function(t){$("#information-block").html(t),a.return.load(),e.assistancehistory.init()})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#information-block")}))})),$(".report-card").on("click",(function(){$("#option-block").addClass("m--hide"),$("#information-block").removeClass("m--hide"),mApp.block("#information-block"),$.ajax({url:`/director-carrera/alumnos/informacion/${t}/boleta-notas`.proto().parseURL()}).done((function(t){$("#information-block").html(t),a.return.load(),e.reportcard.init()})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#information-block")}))})),$(".curriculum-progress").on("click",(function(){$("#option-block").addClass("m--hide"),$("#information-block").removeClass("m--hide"),mApp.block("#information-block"),$.ajax({url:`/director-carrera/alumnos/informacion/${t}/situacion-academica`.proto().parseURL()}).done((function(t){$("#information-block").html(t),a.return.load(),e.curriculumprogress.init()})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#information-block")}))})),$(".procedure-request").on("click",(function(){$("#option-block").addClass("m--hide"),$("#information-block").removeClass("m--hide"),mApp.block("#information-block"),$.ajax({url:`/director-carrera/alumnos/informacion/${t}/solicitud-tramites`.proto().parseURL()}).done((function(t){$("#information-block").html(t),a.return.load(),e.procedurerequest.init()})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#information-block")}))})),$(".observations").on("click",(function(){$("#option-block").addClass("m--hide"),$("#information-block").removeClass("m--hide"),mApp.block("#information-block"),$.ajax({url:`/director-carrera/alumnos/informacion/${t}/observaciones`.proto().parseURL()}).done((function(t){$("#information-block").html(t),a.return.load(),e.observations.init()})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#information-block")}))}))}},information:{load:function(){a.return.load()}},password:{load:function(){a.return.load()}},procedures:{load:function(){a.return.load()}},init:function(){a.options.load()}},e={general:{form:{object:null,init:function(){this.object=$("#edit-form").validate({messages:{Name:{pattern:"Por favor el apellido solo debe contener letras."},PaternalSurname:{pattern:"Por favor el apellido solo debe contener letras."},MaternalSurname:{pattern:"Por favor el apellido solo debe contener letras."},PhoneNumber:{pattern:"El campo no tiene el formato correcto (Ejemplo: 989419189 o 3255564 )"},Dni:{pattern:"Por favor el Dni solo debe contener números.",maxlength:"Por favor el Dni solo debe 8 contener dígitos.",minlength:"Por favor el Dni debe 8 contener dígitos."}},submitHandler:function(t){var a=new FormData($(t)[0]);mApp.block("#information-block"),$.ajax({url:$(t).attr("action"),type:"POST",data:a,contentType:!1,processData:!1}).done((function(){toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),$("#student-picture").attr("src",$("#current-picture").attr("src"));var t=""!==$("#MaternalSurname").val()?$("#PaternalSurname").val()+" "+$("#MaternalSurname").val()+", "+$("#Name"):$("#PaternalSurname").val()+", "+$("#Name");$("#student-picture").text(t),$("#student-code").val($("#UserName").val()),$("#student-career").val($("#SelectedCareer").text()),$("#student-dni").val($("#Dni").val())})).fail((function(t){null!==t.responseText?$("#alert-text").html(t.responseText):$("#alert-text").html(_app.constants.toastr.message.error.task),$("#m-form_alert").removeClass("m--hide").show()})).always((function(){mApp.unblock("#information-block")}))}})}},select:{init:function(){this.faculties.init()},faculties:{init:function(){$.ajax({url:"/facultades/get".proto().parseURL()}).done((function(t){$(".select2-faculties").select2({placeholder:"Facultades",minimumInputLength:-1,data:t.items}).val($("#FacultyIdValue").val()).trigger("change").on("change",(function(){e.general.select.careers.init($(this).val())})),e.general.select.careers.init($("#FacultyIdValue").val())}))}},careers:{init:function(t){$(".select2-careers").prop("disabled",!0),$(".select2-careers").empty(),$.ajax({url:`/carreras/get?fid=${t}`.proto().parseURL()}).done((function(t){if($(".select2-careers").select2({placeholder:"Seleccione una carrera",minimumInputLength:-1,data:t.items}),t.items.length){$(".select2-careers").prop("disabled",!1);var a=$("#CareerId").val();null!==a&&""!==a&&($(".select2-careers").val(a).trigger("change"),$("#CareerId").val(null).trigger("change"))}}))}}},fileInput:{init:function(){this.picture.init()},picture:{init:function(){$("#Picture").on("change",(function(t){var a=(t.target||window.event.srcElement).files;if(FileReader&&a&&a.length){var e=new FileReader;e.onload=function(){$("#current-picture").attr("src",e.result)},e.readAsDataURL(a[0])}else console.log("File Reader not supported.")}))}}},datepicker:{init:function(){$("#BirthDate").datepicker("setEndDate",moment().format(_app.constants.formats.datepickerJsMoment))}},init:function(){this.select.init(),this.form.init(),this.fileInput.init(),this.datepicker.init()}},password:{form:{object:null,init:function(){e.password.form.object=$("#password-form").validate({rules:{ConfirmPassword:{equalTo:"#Password"}},submitHandler:function(t,a){a.preventDefault(),mApp.block("#information-block"),$.ajax({url:$(t).attr("action"),type:"POST",data:$(t).serialize()}).done((function(){toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success)})).fail((function(t){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#information-block")}))}})}},init:function(){e.password.form.init()}},procedures:{datatable:{procedures:{object:null,options:getSimpleDataTableConfiguration({url:`/director-carrera/alumnos/informacion/${t}/tramites/get`.proto().parseURL(),data:function(t){t.search=$("#search").val()},pageLength:50,orderable:[],columns:[{data:"procedure.code"},{data:"procedure.name"},{data:"createdFormattedDate"},{data:"term.name"},{data:"statusString"},{data:"dependency.name"}]}),init:function(){e.procedures.datatable.procedures.object=$("#procedures_table").DataTable(e.procedures.datatable.procedures.options),$("#search").doneTyping((function(){e.procedures.datatable.procedures.object.draw()}))},load:function(){e.procedures.datatable.procedures.object.draw()}}},init:function(){e.procedures.datatable.procedures.init()}},enrollment:{datatable:{courses:{object:null,options:getSimpleDataTableConfiguration({url:`/director-carrera/alumnos/informacion/${t}/matricula-actual/get`.proto().parseURL(),data:function(t){t.search=$("#search").val()},pageLength:50,orderable:[],columns:[{data:"courseTerm.course.code"},{data:"courseTerm.course.name"},{data:"code"},{data:"studentsCount"},{data:"courseTerm.course.credits"},{data:null,render:function(t){return`<button data-object="${t.proto().encode()}" class="btn btn-info btn-sm m-btn m-btn--icon m-btn--icon-only btn-change"><i class="la la-eye"></i></button>`}}]}),init:function(){e.enrollment.datatable.courses.object=$("#enrollment_table").DataTable(e.enrollment.datatable.courses.options),$("#enrollment_table").on("click",".btn-change",(function(t){var a=$(this).data("object");a=a.proto().decode(),$("#enrollment-section-modal").modal("toggle"),$("#currentId").val(a.studentSectionId),$("#currentSection").val(a.code),e.enrollment.select.section.load(a.studentSectionId)}))},reload:function(){e.enrollment.datatable.courses.object.ajax.reload()}}},select:{section:{init:function(){$("#newSectionId").select2({placeholder:"Seleccione una sección"})},load:function(t){$.ajax({url:`/director-carrera/alumnos/informacion/matricula-actual/${t}/secciones-disponibles`.proto().parseURL()}).done((function(t){$("#newSectionId").empty(),$("#newSectionId").select2({placeholder:"Seleccione una sección",data:t.items,minimumResultsForSearch:-1})}))}},init:function(){select.section.init()}},form:{section:{object:null,clear:function(){this.object.resetForm()},init:function(){this.object=$("#enrollment-section-form").validate({submitHandler:function(t,a){a.preventDefault(),mApp.block("#enrollment-section-form");var o=new FormData($(t)[0]);$.ajax({url:$(t).attr("action"),type:"POST",data:o,contentType:!1,processData:!1}).done((function(){$(".modal").modal("hide"),$(".m-alert").addClass("m--hide"),toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),e.enrollment.form.section.clear(),e.enrollment.datatable.courses.reload()})).fail((function(t){null!==t.responseText&&""!==t.responseText?$("#enrollment-section-modal-text").html(t.responseText):$("#enrollment-section-modal-text").html(_app.constants.ajax.message.error),$("#enrollment-section-modal-alert").removeClass("m--hide").show()})).always((function(){mApp.unblock("#enrollment-section-form")}))}}),$("#sectionFile").on("change",(function(t){$(this).valid(),$(this).next(".custom-file-label").html(t.target.files[0].name)}))}}},init:function(){e.enrollment.datatable.courses.init(),e.enrollment.select.section.init(),e.enrollment.form.section.init()}},schedule:{fullcalendar:{object:null,settings:{allDaySlot:!1,aspectRatio:2,businessHours:{dow:[1,2,3,4,5,6],end:"24:00",start:"07:00"},columnFormat:"dddd",defaultView:"agendaWeek",editable:!1,eventRender:function(t,a){a.hasClass("fc-day-grid-event")?(a.data("content",t.description),a.data("placement","top"),mApp.initPopover(a)):a.hasClass("fc-time-grid-event")?a.find(".fc-title").append('<div class="fc-description">'+t.description+"</div>"):0!==a.find(".fc-list-item-title").length&&a.find(".fc-list-item-title").append('<div class="fc-description">'+t.description+"</div>");var e=a.find(".fc-title").clone().children().remove().end().text();a.css("border-color","#"+e.proto().toRGB()).css("border-width","2px")},events:{className:"m-fc-event--primary",error:function(){toastr.error("Ocurrió un problema con el servidor","Error")},url:`/director-carrera/alumnos/informacion/${t}/horario/get`.proto().parseURL()},firstDay:1,header:!1,height:730,locale:"es",maxTime:"24:00:00",minTime:"06:00:00",monthNames:monthNames,dayNames:dayNames,monthNamesShort:monthNamesShort,dayNamesShort:dayNamesShort,slotDuration:"00:30:00",timeFormat:"h(:mm)A"},init:function(){e.schedule.fullcalendar.object=$("#schedule-calendar").fullCalendar(e.schedule.fullcalendar.settings)}},init:function(){e.schedule.fullcalendar.init()}},academichistory:{ajax:function(){mApp.block("#courses-block");var a=$("#select-term").val();$.ajax({type:"GET",url:`/director-carrera/alumnos/informacion/${t}/historial/${a}/notas`.proto().parseURL()}).done((function(t){$("#enrolled-courses-container").html(t),$("[data-toggle='m-tooltip']").tooltip(),$("[rel='m-tooltip']").tooltip(),$("#lblAcademicYear").text($("#summaryAcademicYear").val()),$("#lblSectionCount").text($("#summarySectionCount").val()),$("#lblCreditSum").text($("#summaryCreditSum").val())})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#courses-block")}))},init:function(){$("#select-term").on("change",(function(t){$("#lblAcademicYear").text("-"),$("#lblSectionCount").text("-"),$("#lblCreditSum").text("-"),e.academichistory.ajax()})),$("#select-term").val()&&e.academichistory.ajax()}},assistancehistory:{datatable:{courses:{object:null,options:getSimpleDataTableConfiguration({pageLength:10,orderable:[],columns:[{data:"courseName"},{data:"classCount"},{data:"dictated"},{data:"assisted"},{data:"absences"},{data:null,render:function(t){return`<div class="table-options-section">\n                                    <button data-id="${t.sectionId}" class="btn btn-info btn-sm m-btn m-btn--icon m-btn--icon-only btn-course-detail" title=""><i class="la la-eye"></i></button> \n                                    </div>`}}]}),load:function(){var a=$("#select-term").val(),o=`/director-carrera/alumnos/informacion/${t}/asistencia/${a}/cursos`.proto().parseURL();void 0!==e.assistancehistory.datatable.courses.object&&null!==e.assistancehistory.datatable.courses.object?e.assistancehistory.datatable.courses.object.ajax.url(o).load():(e.assistancehistory.datatable.courses.options.ajax.url=o,e.assistancehistory.datatable.courses.object=$("#course_assistance_table").DataTable(e.assistancehistory.datatable.courses.options))},init:function(){var a=$("#select-term").val(),o=`/director-carrera/alumnos/informacion/${t}/asistencia/${a}/cursos`.proto().parseURL();e.assistancehistory.datatable.courses.options.ajax.url=o,e.assistancehistory.datatable.courses.object=$("#course_assistance_table").DataTable(e.assistancehistory.datatable.courses.options)}},assistance:{object:null,options:getSimpleDataTableConfiguration({url:null,pageLength:50,orderable:[],columns:[{data:"week"},{data:"sessionNumber"},{data:"date"},{data:"weekDay"},{data:"isAbsent"}]}),load:function(a){$("#assistance_table_block").removeClass("m--hide");var o=`/director-carrera/alumnos/informacion/${t}/asistencia/${a}/detalle`.proto().parseURL();void 0!==e.assistancehistory.datatable.assistance.object&&null!==e.assistancehistory.datatable.assistance.object?e.assistancehistory.datatable.assistance.object.ajax.url(o).load():(e.assistancehistory.datatable.assistance.options.ajax.url=o,e.assistancehistory.datatable.assistance.object=$("#assistance_table").DataTable(e.assistancehistory.datatable.assistance.options))}}},init:function(){$("#select-term").val()&&(e.assistancehistory.datatable.courses.load(),$("#select-term").on("change",(function(){e.assistancehistory.datatable.courses.load(),$("#assistance_table_block").addClass("m--hide")})),$("#course_assistance_table").on("click",".btn-course-detail",(function(){var t=$(this).data("id");e.assistancehistory.datatable.assistance.load(t)})))},clear:function(){e.assistancehistory.datatable.assistance.object=null,e.assistancehistory.datatable.courses.object=null}},reportcard:{datatable:{courses:{object:null,options:getSimpleDataTableConfiguration({pageLength:10,orderable:[],columns:[{data:"curriculum"},{data:"year"},{data:"code"},{data:"course"},{data:"section"},{data:"credits"},{data:"theoreticalHours"},{data:"practicalHours"},{data:"grade"},{data:"status"},{data:"teacher"}]}),load:function(){var a=$("#select-term").val(),o=`/director-carrera/alumnos/informacion/${t}/boleta-notas/${a}/cursos`.proto().parseURL();void 0!==e.reportcard.datatable.courses.object&&null!==e.reportcard.datatable.courses.object?e.reportcard.datatable.courses.object.ajax.url(o).load():(e.reportcard.datatable.courses.options.ajax.url=o,e.reportcard.datatable.courses.object=$("#card_table").DataTable(e.reportcard.datatable.courses.options))},init:function(){var a=$("#select-term").val(),o=`/director-carrera/alumnos/informacion/${t}/boleta-notas/${a}/cursos`.proto().parseURL();e.reportcard.datatable.courses.options.ajax.url=o,e.reportcard.datatable.courses.object=$("#card_table").DataTable(e.reportcard.datatable.courses.options)}}},init:function(){$("#select-term").val()&&(e.reportcard.datatable.courses.load(),$("#reportcard-link").prop("href",`/academico/constancias/notas/${t}/${$("#select-term").val()}`.proto().parseURL()),$("#select-term").on("change",(function(){e.reportcard.datatable.courses.load(),$("#reportcard-link").prop("href",`/academico/constancias/notas/${t}/${$("#select-term").val()}`.proto().parseURL())}))),$("#select-term").on("change",(function(){e.reportcard.datatable.courses.load()}))},clear:function(){e.reportcard.datatable.courses.object=null}},curriculumprogress:{datatable:{courses:{object:null,options:{responsive:!0,processing:!0,serverSide:!1,filter:!1,lengthChange:!1,paging:!1,ordering:!1,orderMulti:!1,columnDefs:[{orderable:!1,targets:[]}],language:{processing:"<div class='overlay custom-loader-background'><i class='fa fa-cog fa-spin custom-loader-color'></i></div>",lengthMenu:"",infoEmpty:"",zeroRecords:"No existen registros",info:"",infoFiltered:"_MAX_ / _TOTAL_",paginate:{next:">>",previous:"<<"}},ajax:{url:`/director-carrera/alumnos/informacion/${t}/situacion-academica/cursos`.proto().parseURL(),type:"GET",dataType:"JSON"},orderable:[],columns:[{data:"year"},{data:"code"},{data:"course"},{data:"credits"},{data:null,render:function(t){return 0===t.tries?" - ":t.tries}},{data:null,render:function(t){return 0===t.tries?" - ":t.grade<11?`<span style="color: red;">${t.grade}</span>`:t.grade}},{data:null,render:function(t){return 0===t.tries?" - ":t.term}},{data:"status"}]},init:function(){e.curriculumprogress.datatable.courses.object=$("#curriculum_table").DataTable(e.curriculumprogress.datatable.courses.options)}},elective:{object:null,options:{responsive:!0,processing:!0,serverSide:!1,filter:!1,lengthChange:!1,paging:!1,ordering:!1,orderMulti:!1,columnDefs:[{orderable:!1,targets:[]}],language:{processing:"<div class='overlay custom-loader-background'><i class='fa fa-cog fa-spin custom-loader-color'></i></div>",lengthMenu:"",infoEmpty:"",zeroRecords:"No existen registros",info:"",infoFiltered:"_MAX_ / _TOTAL_",paginate:{next:">>",previous:"<<"}},ajax:{url:`/director-carrera/alumnos/informacion/${t}/situacion-academica/electivos`.proto().parseURL(),type:"GET",dataType:"JSON"},orderable:[],columns:[{data:"year"},{data:"code"},{data:"course"},{data:"credits"},{data:null,render:function(t){return 0===t.tries?" - ":t.tries}},{data:null,render:function(t){return 0===t.tries?" - ":t.grade<11?`<span style="color: red;">${t.grade}</span>`:t.grade}},{data:null,render:function(t){return 0===t.tries?" - ":t.term}},{data:"status"}]},init:function(){e.curriculumprogress.datatable.elective.object=$("#elective_table").DataTable(e.curriculumprogress.datatable.elective.options)}}},init:function(){e.curriculumprogress.datatable.courses.init(),e.curriculumprogress.datatable.elective.init()},clear:function(){e.curriculumprogress.datatable.courses.object=null,e.curriculumprogress.datatable.elective.object=null}},procedurerequest:{events:{init:function(){$(".reservation-request").on("click",(function(){swal({title:"Registrar reserva de matrícula",text:"Se registrará una nueva reserva de matrícula a partir de la fecha actual.",type:"warning",showCancelButton:!0,confirmButtonText:"Si, reservar",confirmButtonClass:"btn btn-success m-btn m-btn--custom",cancelButtonText:"Cancelar"}).then((function(t){t.value&&$.ajax({url:`/director-carrera/alumnos/informacion/${$("#Id").val()}/solicitud-tramites/reserva`.proto().parseURL(),type:"POST"}).done((function(){toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),datatable.students.load()})).fail((function(t){null!==t.responseText&&""!==t.responseText?toastr.error(t.responseText,_app.constants.toastr.title.error):toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)}))}))}))}},select:{courses:{init:function(){var t=$("#Id").val();$.ajax({url:`/director-carrera/alumnos/informacion/${t}/cursos-pendientes`.proto().parseURL()}).done((function(t){$("#evaluationCourseSelect").select2({data:t.items,minimumResultsForSearch:-1})}))}},academicPrograms:{init:function(){$.ajax({url:"/programas-academico/get".proto().parseURL(),data:{curriculumId:$("#CurriculumId").val()}}).then((function(t){$("#academicProgramSelect").select2({data:t.items,dropdownParent:$("#request-program-modal")}),$("#academicProgramSelect").val($("#AcademicProgramId").val()).trigger("change")}))}}},form:{evaluation:{object:null,clear:function(){e.procedurerequest.form.evaluation.object.resetForm()},init:function(){e.procedurerequest.form.evaluation.object=$("#evaluation-request-form").validate({submitHandler:function(t,a){a.preventDefault(),mApp.block("#evaluation-request-form"),$.ajax({url:$(t).attr("action"),type:"POST",data:$(t).serialize()}).done((function(){$(".modal").modal("hide"),$(".m-alert").addClass("m--hide"),toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),e.procedurerequest.form.evaluation.clear()})).fail((function(t){null!==t.responseText&&""!==t.responseText?$("#evaluation_msg_txt").html(t.responseText):$("#evaluation_msg_txt").html(_app.constants.ajax.message.error),$("#evaluation-modal-form-alert").removeClass("m--hide").show()})).always((function(){mApp.unblock("#evaluation-request-form")}))}})}},academicProgram:{object:null,clear:function(){},init:function(){this.object=$("#program-request-form").validate({submitHandler:function(t,a){a.preventDefault(),mApp.block("#program-request-form"),$.ajax({url:$(t).attr("action"),type:"POST",data:$(t).serialize()}).done((function(){$(".modal").modal("hide"),$(".m-alert").addClass("m--hide"),toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),$("#AcademicProgramId").val($("#academicProgramSelect").val())})).fail((function(t){null!==t.responseText&&""!==t.responseText?$("#program_msg_txt").html(t.responseText):$("#program_msg_txt").html(_app.constants.ajax.message.error),$("#program-modal-form-alert").removeClass("m--hide").show()})).always((function(){mApp.unblock("#program-request-form")}))}})}}},init:function(){this.select.courses.init(),this.select.academicPrograms.init(),$("[data-switch=true]").bootstrapSwitch(),this.form.evaluation.init(),this.form.academicProgram.init(),this.events.init()}},observations:{datatable:{observations:{object:null,options:getSimpleDataTableConfiguration({url:`/director-carrera/alumnos/informacion/${t}/observaciones/get`.proto().parseURL(),data:function(t){},pageLength:50,ordering:!1,columns:[{data:"observation",title:"Observaciones"},{data:"user.userName",title:"Usuario"},{data:"createdFormattedDate",title:"Fecha"}]}),init:function(){this.object=$("#observations_table").DataTable(this.options)},reload:function(){this.object.ajax.reload()}}},form:{observation:{object:null,clear:function(){this.object.resetForm()},init:function(){this.object=$("#create-observation-form").validate({submitHandler:function(t,a){a.preventDefault(),mApp.block("#create-observation-form"),$.ajax({url:$(t).attr("action"),type:"POST",data:$(t).serialize()}).done((function(){$(".modal").modal("hide"),$(".m-alert").addClass("m--hide"),toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),e.observations.form.observation.clear(),e.observations.datatable.observations.reload()})).fail((function(t){null!==t.responseText&&""!==t.responseText?$("#observation_msg_txt").html(t.responseText):$("#observation_msg_txt").html(_app.constants.ajax.message.error),$("#observation-modal-form-alert").removeClass("m--hide").show()})).always((function(){mApp.unblock("#create-observation-form")}))}})}}},init:function(){this.datatable.observations.init(),this.form.observation.init()}},clear:function(){e.assistancehistory.clear(),e.reportcard.clear(),e.curriculumprogress.clear()}};return{init:function(){a.init()},load:function(){e.reportcard.datatable.courses.load()}}}();$((function(){InitApp.init()}));