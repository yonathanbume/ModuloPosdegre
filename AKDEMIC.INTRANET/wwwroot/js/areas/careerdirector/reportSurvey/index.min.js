var reportSurvey=function(){var e={object:null,options:getSimpleDataTableConfiguration({url:"/director-carrera/reporte-encuesta/getAllSurveys".proto().parseURL(),data:function(e){e.careerId=$("#select_career").val(),e.search=$("#search").val()},pageLength:10,orderable:[],columns:[{data:"code",title:"Código"},{data:"status",title:"Estado"},{data:"title",title:"Nombre"},{data:"answers",title:"Respuestas"},{data:"publishDate",title:"Fecha de publicación"},{data:"finishDate",title:"Fecha de finalización"},{data:null,title:"Opciones",render:function(e){return`<button data-id="${e.id}" class="btn btn-primary btn-sm m-btn m-btn--icon btn-detail"<span><i class="la la-eye"> </i> </span>Ver reporte </span></span></button>`}}]}),reloadTable:function(){e.object.ajax.reload()},events:{onView:function(){$("#datatable_survey").on("click",".btn-detail",(function(){var e=$(this).data("id");location.href=`/director-carrera/reporte-encuesta/detalle/${e}`.proto().parseURL()}))},init:function(){this.onView()}},init:function(){this.events.init()}},t=function(){$("#search").doneTyping((function(){e.reloadTable()}))};return{init:function(){$.ajax({url:"/director-carrera/reporte-encuesta/carreras/get".proto().parseURL()}).done((function(e){$("#select_career").select2({data:e.items,placeholder:"Carreras"}).trigger("change")})),$("#select_career").on("change",(function(t){null===e.object?e.object=$("#datatable_survey").DataTable(e.options):e.reloadTable()})),t(),e.init()}}}();$((function(){reportSurvey.init()}));