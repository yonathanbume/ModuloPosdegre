var report=function(){var e={object:null,options:getSimpleDataTableConfiguration({url:"/director-carrera/reporte_asistencia/carrera/facultad",data:function(e){e.cid=$("#select_career").val(),e.fid=$("#select_faculties").val(),e.pid=$("#select_program").val(),e.search=$("#search").val()},pageLength:10,orderable:[],columns:[{data:"paternalSurname",title:"Apellido Paterno"},{data:"maternalSurname",title:"Apellido Materno"},{data:"names",title:"Nombres"},{data:"userName",title:"Usuario"},{data:"email",title:"Correo electrónico"},{data:"phoneNumber",title:"Teléfono"},{data:null,title:"Opciones",render:function(e){return`<button data-id="${e.id}" class="btn btn-primary btn-sm m-btn m-btn--icon btn-detail" <span><i class="la la-eye"> </i> </span>Ver Reporte </span></span></button>`}}]}),reloadTable:function(){null===e.object?e.init():e.object.ajax.reload()},events:{onDetails:function(){$("#datatable_report").on("click",".btn-detail",(function(){var e=$(this).data("id");location.href=`/director-carrera/reporte_asistencia/${e}`.proto().parseURL()}))},init:function(){this.onDetails()}},init:function(){e.events.init(),e.object=$("#datatable_report").DataTable(e.options)}};return{load:function(){$("#select_faculties").select2({ajax:{url:"/director-carrera/reporte_asistencia/getfaculties".proto().parseURL(),delay:300,processResults:function(e){return{results:e.results}}},minimumInputLength:0,placeholder:"Seleccione facultad",allowClear:!0}).on("change",(function(){$("#select_career").val("").trigger("change");var a=$("#select_faculties").val();$("#select_career").select2({ajax:{url:`/director-carrera/reporte_asistencia/getcareers/${a}`.proto().parseURL(),delay:300,processResults:function(e){return{results:e.results}}},minimumInputLength:0,placeholder:"Seleccione carrera",allowClear:!0}).on("change",(function(){$("#select_program").val("").trigger("change");var a=$("#select_career").val();$("#select_program").select2({ajax:{url:`/director-carrera/reporte_asistencia/getprograms/${a}`,delay:300,processResults:function(e){return e.results.length>1?$("#div_select_program").removeClass("d-none"):$("#div_select_program").addClass("d-none"),{results:e.results}}},minimumInputLength:0,placeholder:"Seleccione carrera",allowClear:!0}).on("change",(function(){e.reloadTable()})),e.reloadTable()})),e.reloadTable()})),$("#search").doneTyping((function(){e.reloadTable()}))}}}();$((function(){report.load()}));