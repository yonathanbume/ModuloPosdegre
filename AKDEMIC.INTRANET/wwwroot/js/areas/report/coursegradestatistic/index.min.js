var InitApp=function(){var e={courses:{object:null,options:{bInfo:!0,columnDefs:[{orderable:!1,targets:[]}],ajax:{url:"/reporte/notas-curso/get".proto().parseURL(),type:"GET",dataType:"JSON",data:function(e){delete e.columns,e.termId=$("#term_select").val(),e.careerId=$("#career_select").val(),e.curriculumId=$("#curriculum_select").val(),e.search=$("#search").val()}},order:[[1,"asc"]],columns:[{title:"CÃ³digo",data:"code",width:"50px"},{title:"Curso",data:"course"},{title:"Escuela Profesional",data:"career"},{title:"Nro. Notas",orderable:!1,data:"gradeCount"},{title:"Media",orderable:!1,data:"mean"},{title:"Mediana",orderable:!1,data:"median"},{title:"Des. Estandar",orderable:!1,data:"standardDeviation"},{title:"Perc. 25",orderable:!1,data:"percentile25"},{title:"Perc. 50",orderable:!1,data:"percentile50"},{title:"Perc. 75",orderable:!1,data:"percentile75"}],dom:"Bfrtip",buttons:[{text:"Excel",action:function(e,t,r,a){var c=`/reporte/notas-curso/get-excel?termId=${$("#term_select").val()}&careerId=${$("#career_select").val()}&curriculumId=${$("#curriculum_select").val()}`;window.open(c,"_blank")}}]},init:function(){this.object=$("#course_table").DataTable(this.options)},load:function(){this.object.ajax.reload()}}},t={term:{init:function(){$.ajax({url:"/periodos/get".proto().parseURL()}).done((function(t){$("#term_select").select2({data:t.items}),null!==t.selected&&($("#term_select").val(t.selected),$("#term_select").trigger("change.select2")),e.courses.init(),$("#term_select").on("change",(function(t){e.courses.load()}))}))}},career:{init:function(){$.ajax({url:"/carreras/get".proto().parseURL()}).done((function(e){$("#career_select").select2({placeholder:"Seleccione una Escuela",data:e.items,minimumResultsForSearch:10,disabled:!1}),t.career.events()}))},events:function(){$("#career_select").on("change",(function(){var r=$("#career_select").val();r===_app.constants.guid.empty?(e.courses.load(),$("#curriculum_select").empty(),$("#curriculum_select").select2({placeholder:"Seleccione un plan",disabled:!0})):(e.courses.load(),t.curriculum.load(r))}))}},curriculum:{init:function(){$("#curriculum_select").select2({placeholder:"Seleccione un plan",disabled:!0})},load:function(t){$.ajax({url:`/carreras/${t}/planestudio/get`.proto().parseURL()}).done((function(t){t.items.unshift({id:_app.constants.guid.empty,text:"Todas"}),$("#curriculum_select").select2({placeholder:"Seleccione un plan",data:t.items,minimumResultsForSearch:10,disabled:!1}),$("#curriculum_select").on("change",(function(){e.courses.load()}))}))}},init:function(){t.term.init(),t.career.init(),t.curriculum.init()}},r=function(){$("#search").doneTyping((function(){e.courses.load()}))};return{init:function(){t.init(),r()}}}();$((function(){InitApp.init()}));