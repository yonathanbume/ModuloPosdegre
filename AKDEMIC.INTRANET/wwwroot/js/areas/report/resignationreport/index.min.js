var InitApp=function(){var e={students:{object:null,options:{ajax:{url:"/reporte/alumnos-renuncia/get".proto().parseURL(),type:"GET",dataType:"JSON",data:function(e){delete e.columns,e.search="",e.term=$("#term_select").val(),e.faculty=$("#faculty_select").val(),e.career=$("#career_select").val()}},columns:[{data:"term",title:"Periodo",orderable:!1},{data:"code",title:"CÃ³digo",orderable:!1},{data:"name",title:"Estudiante",orderable:!1},{data:"career",title:"Escuela Profesional",orderable:!1},{data:"faculty",title:"Facultad",orderable:!1},{data:"date",title:"Fecha",orderable:!1},{title:"Opciones",orderable:!1,render:function(e,t,a,n){return null==a.file||""==a.file?"-":`<a href= ${`/pdf/${a.file}`.proto().parseURL()} class="btn btn-sm m-btn m-btn--icon btn-download btn-success"><i class='la la-download'></i></a>`}}]},init:function(){this.object=$("#students_table").DataTable(this.options)},reload:function(){this.object.ajax.reload()}}},t={faculty:{init:function(){$.ajax({url:"/facultades/v2/get".proto().parseURL()}).done((function(e){$("#faculty_select").select2({data:e.items,minimumResultsForSearch:-1}),t.faculty.events()}))},events:function(){$("#faculty_select").on("change",(function(){$("#faculty_select").val()===_app.constants.guid.empty?($("#career_select").empty(),$("#career_select").select2({placeholder:"Seleccione una escuela",disabled:!0})):t.career.load($("#faculty_select").val()),e.students.reload()}))}},career:{init:function(){$("#career_select").select2({placeholder:"Seleccione una facultad"}),t.career.events()},load:function(e){$.ajax({url:`/facultades/${e}/carreras/v2/get`.proto().parseURL()}).done((function(e){$("#career_select").empty(),$("#career_select").select2({placeholder:"Seleccione una carrera",data:e.items,minimumResultsForSearch:-1,disabled:!1})}))},events:function(){$("#career_select").on("change",(function(){e.students.reload()}))}},init:function(){t.faculty.init(),t.career.init()}};return{init:function(){e.students.init(),t.init()}}}();$((function(){InitApp.init()}));