var InitApp=function(){var e={students:{serverSide:!1,object:null,options:{ajax:{url:"/reporte/pagos-exonerados/get".proto().parseURL(),type:"GET",dataType:"JSON",data:function(e){e.termId=$("#term_select").val(),e.careerId=$("#career_select").val(),e.type=$("#type_select").val()}},columns:[{title:"Código",data:"user"},{title:"Nombre completo",data:"fullname"},{title:"Carrera",data:"career",orderable:!1},{title:"Tipo Pago",data:"type",orderable:!1},{title:"Concepto",data:"concept"}],dom:"Bfrtip",buttons:[{text:"Excel",action:function(){var e=$(this)[0].node;$(e).addClass("m-loader m-loader--right m-loader--primary").attr("disabled",!0),$.fileDownload("/reporte/pagos-exonerados/reporte-excel".proto().parseURL(),{httpMethod:"GET",data:{termId:$("#term_select").val(),careerId:$("#career_select").val(),type:$("#type_select").val()},successCallback:function(){toastr.success("Archivo descargado satisfactoriamente","Éxito")}}).done((function(){})).fail((function(){alert("Falló la descarga del archivo!")})).always((function(){$(e).removeClass("m-loader m-loader--right m-loader--primary").attr("disabled",!1)}))}}]},init:function(){e.students.object=$("#data-table").DataTable(e.students.options)},reload:function(){e.students.object.ajax.reload()}}},t={term:{init:function(){$.ajax({url:"/periodos/get".proto().parseURL()}).done((function(t){$("#term_select").select2({data:t.items}),null!==t.selected&&($("#term_select").val(t.selected),$("#term_select").trigger("change.select2")),e.students.init(),$("#term_select").on("change",(function(t){e.students.reload()}))}))}},career:{init:function(){$.ajax({url:"/carreras/get".proto().parseURL()}).done((function(t){t.items.unshift({id:_app.constants.guid.empty,text:"Todas"}),$("#career_select").select2({placeholder:"Seleccione una escuela",data:t.items,minimumResultsForSearch:10}),$("#career_select").on("change",(function(){e.students.reload()}))}))}},type:{init:function(){$("#type_select").select2({placeholder:"Seleccione un tipo",minimumResultsForSearch:-1}),$("#type_select").on("change",(function(){e.students.reload()}))}},init:function(){t.type.init(),t.career.init(),t.term.init()}};return{init:function(){t.init()}}}();$((function(){InitApp.init()}));