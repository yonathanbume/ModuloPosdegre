var InitApp=function(){var e={term:{init:function(){this.events(),this.load()},load:function(){$.ajax({url:"/periodos/get".proto().parseURL()}).done((function(e){$("#term-select").select2({data:e.items}),null!==e.selected&&$("#term-select").val(e.selected).trigger("change")}))},events:function(){$("#term-select").on("change",(function(e){}))}},career:{init:function(){this.load(),this.events()},load:function(){$.ajax({url:"/carreras/get".proto().parseURL()}).done((function(t){$("#career-select").select2({placeholder:"Seleccione una escuela",data:t.items,minimumResultsForSearch:10}),e.curriculum.load($("#career-select").val())}))},events:function(){$("#career-select").on("change",(function(){var t=$("#career-select").val();e.curriculum.load(t)}))}},curriculum:{init:function(){$("#curriculum-select").select2({placeholder:"Seleccione un Plan",disabled:!0}),this.events()},load:function(t){$.ajax({url:`/planes-estudio/${t}/get`.proto().parseURL()}).done((function(t){$("#curriculum-select").empty(),$("#curriculum-select").select2({placeholder:"Seleccione un Plan",data:t.items,minimumResultsForSearch:10,disabled:!1}),e.academicyear.load($("#curriculum-select").val())}))},events:function(){$("#curriculum-select").on("change",(function(){var t=$("#curriculum-select").val();e.academicyear.load(t)}))}},academicyear:{init:function(){$("#academicyear-select").select2({placeholder:"Seleccione un Ciclo"})},load:function(e){$.ajax({url:`/planes-estudio/${e}/niveles/get`.proto().parseURL()}).done((function(e){$("#academicyear-select").empty(),$("#academicyear-select").select2({placeholder:"Seleccione un Ciclo",data:e.items,minimumResultsForSearch:10,disabled:!1})}))}},init:function(){this.academicyear.init(),this.curriculum.init(),this.term.init(),this.career.init()}},t={sections:{object:null,options:{serverSide:!0,filter:!1,lengthChange:!1,ajax:{url:"/reporte/curso-periodo/get".proto().parseURL(),type:"GET",dataType:"JSON",data:function(e){delete e.columns,e.termId=$("#term-select").val(),e.curriculum=$("#curriculum-select").val(),e.academicyear=$("#academicyear-select").val()}},pageLength:50,columns:[{data:"curriculum",title:"Plan"},{data:"course",title:"Curso"},{data:"sections",title:"Secciones"},{data:null,title:"Opciones",orderable:!1,render:function(e){var t="";return t+=`<a class="btn btn-brand m-btn btn-sm m-btn--icon btn-manage" href="${`/reporte/curso-periodo/detalle/${e.id}/${$("#term-select").val()}`.proto().parseURL()}"><span><i class="la la-gear"></i><span>Detalle</span></span></a> `}}]},reload:function(){null==this.object?this.object=$("#data-table").DataTable(this.options):this.object.ajax.reload()}}},c=function(){$("#btn-show").click((function(){t.sections.reload()})),$("#search").doneTyping((function(){t.sections.reload()}))};return{init:function(){e.init(),c()}}}();$((function(){InitApp.init()}));