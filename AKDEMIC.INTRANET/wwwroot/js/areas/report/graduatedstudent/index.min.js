var InitApp=function(){var e={students:{object:null,options:{bInfo:!0,columnDefs:[{orderable:!1,targets:[]}],ajax:{url:"/reporte/estudiantes-egresados/get".proto().parseURL(),type:"GET",dataType:"JSON",data:function(e){delete e.columns,e.termId=$("#term_select").val(),e.careerId=$("#career_select").val(),e.search=$("#search").val()}},order:[[1,"asc"]],columns:[{title:"CÃ³digo",data:"code",width:"50px"},{title:"Nombre completo",data:"name"},{title:"Escuela Profesional",data:"career",width:"250px"},{title:"Per. Ingreso",data:"admissionTerm",width:"150px"},{title:"Per. Egreso",data:"graduationTerm",width:"150px"},{title:"Nota Prom.",orderable:!1,data:"weightedAverageGrade"}],dom:"Bfrtip",buttons:[{text:"PDF",action:function(e,t,a,n){var r=`/reporte/estudiantes-egresados/pdf?termId=${$("#term_select").val()}&careerId=${$("#career_select").val()}`;window.open(r,"_blank")}},{text:"EXCEL",action:function(e,t,a,n){var r=`/reporte/estudiantes-egresados/excel?termId=${$("#term_select").val()}&careerId=${$("#career_select").val()}`;window.open(r,"_blank")}}]},init:function(){this.object=$("#students_table").DataTable(this.options)},load:function(){this.object.ajax.reload()}}},t={term:{init:function(){$.ajax({url:"/periodos/get".proto().parseURL()}).done((function(t){$("#term_select").select2({data:t.items}),null!==t.selected&&($("#term_select").val(t.selected),$("#term_select").trigger("change.select2")),e.students.init(),$("#term_select").on("change",(function(t){e.students.load()}))}))}},career:{init:function(){$.ajax({url:"/carreras/get".proto().parseURL()}).done((function(t){t.items.unshift({id:_app.constants.guid.empty,text:"Todas"}),$("#career_select").select2({placeholder:"Seleccione una Escuela",data:t.items,minimumResultsForSearch:10,disabled:!1}),$("#career_select").on("change",(function(){e.students.load()}))}))}},init:function(){t.term.init(),t.career.init()}},a=function(){$("#search").doneTyping((function(){e.students.load()}))};return{init:function(){t.init(),a()}}}();jQuery(document).ready((function(){InitApp.init()}));