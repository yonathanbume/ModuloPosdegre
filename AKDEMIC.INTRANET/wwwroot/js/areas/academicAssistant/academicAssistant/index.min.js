var certificate=function(){var e=null,t={data:{source:{read:{method:"GET",url:"/academic-assistant/academic-assistant/sections".proto().parseURL()}}},columns:[{field:"code",title:"Código de sección"},{field:"name",title:"Curso"},{field:"career",title:"Carrera"},{field:"faculty",title:"Facultad"},{field:"options",title:"Opciones",sortable:!1,filterable:!1,template:function(e){return`<button data-id="${e.id}" class="btn btn-primary btn-sm m-btn m-btn--icon btn-scores"<span><i class="la la-eye"></i></span>Ver notas</span></span></button>`}}]},s=function(){e.on("click",".btn-scores",(function(){var e=$(this).data("id");location.href=`/academic-assistant/academic-assistant/sectionScores/${e}`.proto().parseURL()}))},i={init:function(){this.faculties.init(),this.careers.initEvents(),this.courses.initEvents()},faculties:{init:function(){$.ajax({url:"/facultades/get"}).done((function(e){$(".select2-faculties").select2({data:e.items}).on("change",(function(){i.careers.init($(this).val())})).trigger("change")}))}},careers:{initEvents:function(){$(".select2-careers").on("change",(function(){a.init($(".select2-faculties").val(),$(this).val())}))},init:function(e){$(".select2-careers").prop("disabled",!0),$.ajax({url:`/carreras/get?fid=${e}`.proto().parseURL()}).done((function(e){$(".select2-careers").empty(),e.items.unshift({id:_app.constants.guid.empty,text:"Todas"}),$(".select2-careers").select2({data:e.items,placeholder:"Carrera"}),e.items.length>1&&$(".select2-careers").prop("disabled",!1),$(".select2-careers").trigger("change")}))}},courses:{initEvents:function(){$(".select2-courses").on("change",(function(){a.init($(".select2-careers").val(),$(this).val())}))},init:function(e){$(".select2-courses").prop("disabled",!0),$.ajax({url:`/cursos/get?cid=${e}`.proto().parseURL()}).done((function(e){$(".select2-courses").empty(),e.items.unshift({id:_app.constants.guid.empty,text:"Todas"}),$(".select2-courses").select2({data:e.items,placeholder:"Curso"}),e.items.length>1&&$(".select2-courses").prop("disabled",!1),$(".select2-courses").trigger("change")}))}}},a={init:function(i,a){null!==e&&(e.destroy(),e=null),t.data.source.read.url=`/academic-assistant/academic-assistant/sections?fid=${i}&cid=${a}`.proto().parseURL(),e=$(".m-datatable").mDatatable(t),s()}};return{init:function(){i.init()}}}();$((function(){certificate.init()}));