InitApp=function(){var t={select2:function(){$("#type_a").select2(),$.ajax({type:"GET",url:"/welfare/sugerencias-y-tips/categorias-bienestar-select2".proto().parseURL(),success:function(t){$("#welfareCategorySelect2").select2({data:t}),t.splice(0,1),$("#welfareCategorySelect2_a").length&&$("#welfareCategorySelect2_a").select2({data:t,dropdownParent:$("#addModal")})}}),$("#welfareCategorySelect2").on("change",(function(){t.init()}))},init:function(){mApp.block("#body_container_data"),$.ajax({url:"/welfare/sugerencias-y-tips/vista".proto().parseURL(),data:{welfareCategoryId:$("#welfareCategorySelect2").val()}}).done((function(t){$("#body_container_data").html(t),$("#list-tabs li a.active").removeClass("active"),$("#first_tab").addClass("active"),a()})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)})).always((function(){mApp.unblock("#body_container_data")}))}},a=function(){$(".touchable").on("click",(function(){var t=$(this).data("id");window.open(`/welfare/sugerencias-y-tips/detalle/${t}`,"_blank")}))};return{init:function(){t.init(),t.select2(),$("#add-form").validate({submitHandler:function(a){var e=$(a).find("button[ type='submit']");e.addLoader(),$.ajax({type:"POST",url:"/welfare/sugerencias-y-tips/agregar-sugerencia-tip".proto().parseURL(),data:$(a).serialize(),success:function(){$("#addModal").modal("hide"),t.init(),toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success)},error:function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)},complete:function(){e.removeLoader(),$("#add-form").validate().resetForm()}})}}),$("#add_modal_button").on("click",(function(){$("#addModal").modal("show")}))}}}(),$((function(){InitApp.init()}));