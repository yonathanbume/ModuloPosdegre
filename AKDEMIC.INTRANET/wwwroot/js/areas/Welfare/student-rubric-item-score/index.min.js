InitApp=function(){var a={objects:{}},e=function(){$("#search").doneTyping((function(){a.objects["tbl-data"].draw()}))},t={columnDefs:[{orderable:!1,targets:[1]}],ajax:{type:"GET",dataType:"JSON",url:"/welfare/evaluacion-socieconomica/obtener-estudiantes".proto().parseURL(),data:function(a){a.searchValue=$("#search").val(),a.careerId=$("#careerId").val(),a.facultyId=$("#facultyId").val(),a.academicProgramId=$("#program_academicId").val()}},columns:[{data:"code",title:"CÃ³digo"},{data:"name",title:"Nombre Completos"},{data:"career",title:"Escuela Profesional"},{data:null,title:"Opciones",render:function(a,e,t,c){return`<button type="button" data-id="${a.id}" class="btn btn-sm btn-brand evaluate"> Evaluar </button>`}}]},c={career:function(a){$.ajax({type:"GET",url:`/welfare/evaluacion-socieconomica/carreras/${a}/get`.proto().parseURL()}).done((function(a){$("#careerId").select2({data:a.items})})),$("#careerId").on("change",(function(){var a=$(this).val();c.program_academic(a)})),$("#careerId").trigger("change")},faculty:function(){$.ajax({type:"GET",url:"/welfare/evaluacion-socieconomica/facultades/get".proto().parseURL()}).done((function(a){$("#facultyId").select2({data:a.items})})),$("#facultyId").on("change",(function(){var a=$(this).val();c.career(a)})),$("#facultyId").trigger("change")},program_academic:function(e){$.ajax({type:"GET",url:`/welfare/evaluacion-socieconomica/programaacademicos/${e}/get`.proto().parseURL()}).done((function(e){$("#program_academicId").select2({data:e.items}),a.objects["tbl-data"].draw()})),$("#program_academicId").on("change",(function(){a.objects["tbl-data"].draw()}))}},o=function(){a.objects["tbl-data"].on("click",".evaluate",(function(){var a=$(this).data("id");window.location.href=`/welfare/evaluacion-socieconomica/calificacion/${a}`.proto().parseURL()}))},r=function(){a.objects["tbl-data"]=$("#rubric-item-score-datatable").DataTable(t),o()};return{init:function(){e(),r(),c.faculty(),c.career(),c.program_academic()}}}(),$((function(){InitApp.init()}));