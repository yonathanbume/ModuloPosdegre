var CurriculumProgress=function(){var t={data:{type:"remote",source:{read:{method:"GET",url:""}},pageSize:10,saveState:{cookie:!0,webstorage:!0}},pagination:!1,columns:[{field:"course",title:"Curso",width:200,sortable:!1},{field:"credits",title:"Créditos",textAlign:"center",width:80,sortable:!1},{field:"try",title:"N° de Veces",textAlign:"center",width:120,sortable:!1},{field:"grade",title:"Promedio Final",textAlign:"center",width:120,sortable:!1,template:function(t){return t.validated?`<span class="m--font-info"> ${t.grade} </span>`:t.grade}},{field:"term",title:"Ciclo",textAlign:"center",width:80,sortable:!1},{field:"status",title:"Estado",textAlign:"center",width:100,sortable:!1,template:function(t){return t.status?"Cumplido":"Pendiente"}}]},e={all:function(){$(".academic-year-datatable").each((function(e,a){var i=$(a).data("ayid"),r=location.pathname.match(/(.{0,8}-.{0,4}-.{0,4}-.{0,4}-.{0,12})/).pop();t.data.source.read.url=`/alumnos/${r}/situacion/nivel/${i}/get`.proto().parseURL(),a.id=`academic-year-${e}`,a.dataset.number=e,$("#"+a.id).mDatatable(t)}))}},a={load:function(){$(".academic-year-datatable").on("m-datatable--on-init",(function(){var t=0,e=!0;$(`#${this.id} td[data-field="credits"]`).each((function(){var e=$(this).text();!isNaN(e)&&e.length>0&&!isNaN(parseInt(e))&&(t+=parseInt(e))})),$(`#${this.id} td[data-field="status"`).each((function(){var t=$(this).text();t.length>0&&(e=e&&"Cumplido"===t)}));var a=$(this).data("number"),i=$(`#m-accordion-title-${a}`).text();$(`#m-accordion-title-${a}`).html(`${i}&emsp;<i class="fa fa-angle-double-right"></i>&emsp;${t} créditos`);var r=e?"fa fa-check":"fa fa-exclamation-triangle";$(`#m-accordion-icon-${a}`).html(`<i class="${r}"></i>`),$(`#m-accordion-icon-${a}`).addClass(e?"text-success":"text-warning")}))}};return{init:function(){e.all(),a.load()}}}(),CurriculumProgressElectives=function(){var t={data:{type:"remote",source:{read:{method:"GET",url:"/alumno/progreso/electivos/get".proto().parseURL()}},pageSize:10,saveState:{cookie:!0,webstorage:!0}},pagination:!1,columns:[{field:"course",title:"Curso",width:200,sortable:!1},{field:"academicYear",title:"Nivel",width:70,textAlign:"center",sortable:!1},{field:"credits",title:"Créditos",textAlign:"center",width:80,sortable:!1},{field:"try",title:"N° de Veces",textAlign:"center",width:100,sortable:!1},{field:"grade",title:"Promedio Final",textAlign:"center",width:120,sortable:!1},{field:"term",title:"Ciclo",textAlign:"center",width:80,sortable:!1},{field:"status",title:"Estado",textAlign:"center",width:100,sortable:!1,template:function(t){return t.status?"Cumplido":"-"}}]},e={all:function(){var e=location.pathname.match(/(.{0,8}-.{0,4}-.{0,4}-.{0,4}-.{0,12})/).pop();t.data.source.read.url=`/alumnos/${e}/situacion/electivos/get`.proto().parseURL(),$(".elective-courses-datatable").mDatatable(t)}};return{init:function(){e.all()}}}();$((function(){CurriculumProgress.init(),CurriculumProgressElectives.init()}));