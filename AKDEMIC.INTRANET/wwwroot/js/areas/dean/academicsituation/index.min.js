var AcademicSituation=function(){var t=null,a={responsive:!0,processing:!0,serverSide:!0,ajax:{url:"/decano/situacion-academica/get".proto().parseURL(),data:function(t){t.fid=$(".select2-faculties").val(),t.cid=$(".select2-careers").val(),t.academicOrder=$(".select2-orders ").val()}},columns:[{title:"Nombre y Apellidos",data:"name"},{title:"Carrera",data:"career"},{title:"Órden de Mérito",data:"lastOrder"},{title:"Promedio Ponderado",data:"lastGrade"},{title:"Clasificación",data:null,render:function(t,a,e){if(null!==e.lastMeritOrder&&-1!==e.lastMeritOrder){var i={0:{text:_app.constants.academicOrder.upperThird.text,value:_app.constants.academicOrder.upperThird.value,class:"m-badge--metal"},1:{text:_app.constants.academicOrder.upperFifth.text,value:_app.constants.academicOrder.upperFifth.value,class:"m-badge--accent"},2:{text:_app.constants.academicOrder.upperTenth.text,value:_app.constants.academicOrder.upperTenth.value,class:"m-badge--focus"}};return"<span class='m-badge "+i[e.lastMeritOrder].class+" m-badge--wide'>"+i[e.lastMeritOrder].text+"</span>"}return"Ninguno"}},{title:"Créditos Aprobados",data:"approvedCredits"},{title:"Opciones",data:null,orderable:!1,render:function(t,a,e){return`<button data-id="${e.id}" class="btn btn-info btn-sm m-btn m-btn--icon btn-record" title="Record Académico"><span><i class="flaticon-interface-7"></i><span>Record</span></span></button> <button data-id="${e.id}" class="btn btn-brand btn-sm m-btn m-btn--icon btn-situation" title="Situación Académica"><span><i class="flaticon-statistics"></i><span>Situación</span></span></button>`}}]},e={init:function(){this.careers.init(),this.orders.init()},careers:{init:function(){$.ajax({url:"/decano/carreras/get"}).done((function(t){$(".select2-careers").select2({data:t.items}).on("change",(function(){i.init()}))}))}},orders:{init:function(){$(".select2-orders").select2().on("change",(function(){i.init()}))}}},i={init:function(e,i){null===t?(t=$(".students-datatable").DataTable(a),this.initEvents()):t.ajax.reload()},initEvents:function(){t.on("click",".btn-situation",(function(){var t=$(this).data("id");location.href=`/decano/situacion-academica/${t}/situacion`})),t.on("click",".btn-record",(function(){var t=$(this).data("id");location.href=`/decano/situacion-academica/${t}/historial`}))}};return{init:function(){i.init(),e.init()}}}();$((function(){AcademicSituation.init()}));