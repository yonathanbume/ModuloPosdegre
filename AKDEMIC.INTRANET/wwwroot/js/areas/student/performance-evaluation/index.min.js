const Datatable=function(){const t="#sections-datatable";let e;$.fn.dataTable.ext.errMode=function(t,e,a){$("#sections-datatable_wrapper").hide()};const a={ajax:{data:function(t,e){t.searchValue=$("#search").val()},url:"/alumno/evaluacion-docente/get".proto().parseURL(),type:"GET",complete:function(t){try{JSON.parse(t.responseText)}catch(e){$("#datatable_msg_txt").html(t.responseText),$("#datatable_msg").removeClass("m--hide").show()}}},ordering:!1,columns:[{data:"career",title:"Escuela Profesional"},{data:"course",title:"Curso"},{data:"section",title:"Secci√≥n"},{data:"teacher",title:"Docente"},{data:"options",title:"Opciones",className:"text-center",orderable:!1,render:function(t,e,a){return null!=a.value?"<button data-id='"+a.userId+"' class='btn btn-primary btn-sm m-btn m-btn--icon' disabled>Calificado</button>":"<button data-id='"+a.userId+"' data-section='"+a.sectionId+"' class='btn btn-primary btn-sm m-btn m-btn--icon btn-qualify'>Calificar</button>"}}]};var n={getPendingSurveys:function(){$.ajax({url:"/alumno/evaluacion-docente/get-cantidad-encuestas-pendientes",type:"GET"}).done((function(t){0===t?$("#completed_check").removeClass("d-none"):($("#alert_pending_surveys").removeClass("d-none"),$("#quantity_pending").text(t))}))},init:function(){this.getPendingSurveys(),$(t).on("click",".btn-qualify",(function(){var t=$(this).data("id"),e=$(this).data("section");window.location.href=`/alumno/evaluacion-docente/${t}/encuesta/${e}/seccion`}))}};return{init:function(){$("#search").doneTyping((function(){e.ajax.reload()})),e=$(t).DataTable(a),n.init()},reload:function(){e.ajax.reload()}}}();$((function(){Datatable.init()}));