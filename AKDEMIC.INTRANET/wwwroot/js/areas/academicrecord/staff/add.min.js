var addUser=function(){var e={object:$("#new-user"),validate:function(){e.object.validate({rules:{Name:{required:!0,maxlength:30},PaternalSurname:{required:!0,maxlength:30},MaternalSurname:{required:!0,maxlength:30},UserName:{required:!0,maxlength:15},Password:{required:!0,maxlength:15},PasswordVerifier:{required:!0,maxlength:15},Email:{required:!0,email:!0},PhoneNumber:{required:!0,minlength:7,maxlength:9,digits:!0}},submitHandler:function(t,r){r.preventDefault(),e.submit(t)}})},submit:function(e){if($("#Password").val()===$("#PasswordVerifier").val()){mApp.block("#new__portlet");var t=new FormData($(e)[0]);$.ajax({url:"/registrosacademicos/personal/nuevo",type:"POST",data:t,contentType:!1,processData:!1}).done((function(e){swal({type:"success",title:"Completado",text:"Usuario Creado Satisfactoriamente.",confirmButtonText:"Aceptar"}).then((function(e){e&&(location.href="/registrosacademicos/personal")}))})).fail((function(e){swal({type:"error",title:"Error",confirmButtonClass:"btn btn-danger m-btn m-btn--custom",confirmButtonText:"Aceptar",text:502===e.status?"No hay respuesta del servidor":e.responseText})})).always((function(){mApp.unblock("#new__portlet")}))}else toastr.error("Verificar contraseñas","Error!")},events:{init:function(){$("#btn-back").click((function(){swal({type:"error",title:"Saldrá de la página.",text:"¿Seguro que desea salir?.",confirmButtonText:"Aceptar",showCancelButton:!0}).then((function(e){e.value&&(location.href="/registrosacademicos/personal")}))}))}},init:function(){e.validate(),e.events.init()}};return{init:function(){e.init()}}}();$((function(){addUser.init()}));