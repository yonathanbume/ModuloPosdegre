var users=function(){var t={object:null,options:getSimpleDataTableConfiguration({url:"/registrosacademicos/personal/get-users".proto().parseURL(),data:function(t){t.search=$("#search").val()},pageLength:20,orderable:[],columns:[{title:"Nombre",data:"name"},{title:"Usuario",data:"username"},{title:"Correo",data:"email"},{title:"Registro Academico",data:null,render:function(t){var a="";return t.isRecordAcademic?a+="<span class='m-badge m-badge--brand m-badge--wide'>Asignado</span>":a+="<span class='m-badge m-badge--metal m-badge--wide'>No Asignado</span>",a}},{title:"Opciones",data:null,render:function(t){var a="";return t.isRecordAcademic?a+="<button data-id='"+t.id+"' class='btn btn-primary btn-sm m-btn--icon btn-change-rol'><i class='la la-close'></i>Remover Rol</button>":a+="<button data-id='"+t.id+"' class='btn btn-primary btn-sm m-btn--icon btn-change-rol'><i class='la la-check'></i>Asignar Rol</button>",a}}]}),reload:function(){t.object.ajax.reload()},events:{OnAssignRemoveRol:function(){$("#users_datatable").on("click",".btn-change-rol",(function(){var a=$(this);a.addClass("m-loader m-loader--right m-loader--light").attr("disabled",!0);var e=$(this).data("id");$.ajax({url:`/registrosacademicos/personal/asignar-remover-rol?userId=${e}`,type:"POST"}).done((function(a){swal({type:"success",title:"Completado",text:a,confirmButtonText:"Aceptar"}),t.reload()})).fail((function(t){swal({type:"error",title:"Error",confirmButtonClass:"btn btn-danger m-btn m-btn--custom",confirmButtonText:"Aceptar",text:502===t.status?"No hay respuesta del servidor":t.responseText})})).always((function(){a.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1)}))}))},onSearch:function(){$("#search").doneTyping((function(){t.reload()}))},init:function(){this.onSearch(),this.OnAssignRemoveRol()}},init:function(){t.object=$("#users_datatable").DataTable(t.options),t.events.init()}};return{init:function(){t.init()}}}();$((()=>{users.init()}));