var StudentTable=function(){var e=null,t={responsive:!0,processing:!0,serverSide:!0,ajax:{url:"/registrosacademicos/alumnos/get".proto().parseURL(),data:function(e){e.search=$("#search").val()}},columns:[{title:"Foto",data:null,orderable:!1,render:function(e,t,a){var r="";return r+=`<img src="${a.picture||"/images/demo/user.png"}" width="50px" />`}},{title:"Nombre y Apellidos",data:"user.fullName"},{title:"DNI",data:"user.dni"},{title:"Carrera",data:"career.name"},{title:"Usuario",data:"user.userName"},{title:"TelÃ©fono",data:"user.phoneNumber"}]},a=function(){$("#search").doneTyping((function(){e.ajax.reload()}))},r={init:function(){this.faculties.init(),this.careers.initEvents()},faculties:{init:function(){$.ajax({url:"/facultades/registroacademico/get".proto().parseURL()}).done((function(e){$(".select2-faculties").select2({data:e}).on("change",(function(){r.careers.init($(this).val())})).trigger("change")}))}},careers:{initEvents:function(){$(".select2-careers").on("change",(function(){i.init($(".select2-faculties").val(),$(this).val())}))},init:function(e){$(".select2-careers").prop("disabled",!0),$.ajax({url:`/carreras/registroacademico/get?facultyId=${e}`.proto().parseURL()}).done((function(e){$(".select2-careers").empty(),e.unshift({id:"Todas",text:"Todas"}),$(".select2-careers").select2({data:e,placeholder:"Carrera"}),e.length>1&&$(".select2-careers").prop("disabled",!1),$(".select2-careers").trigger("change")}))}}},i={init:function(r,i){null!==e&&(e.destroy(),e=null),t.ajax.url=`/registrosacademicos/alumnos/get?fid=${r}&cid=${i}`.proto().parseURL(),e=$(".students-datatable").DataTable(t),a()}};return{init:function(){r.init()}}}();$((function(){StudentTable.init()}));