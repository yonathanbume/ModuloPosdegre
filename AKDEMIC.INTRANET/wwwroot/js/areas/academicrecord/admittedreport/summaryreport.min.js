var InitApp=function(){const t={contextButton:{menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS"]}};var e={students:{object:null,options:{data:{},serverSide:!1,dom:"Bfrtip",buttons:[{extend:"excelHtml5",title:"Reporte de ingresantes por escuela",exportOptions:{columns:[0,1]}},{extend:"pdfHtml5",title:"Reporte de ingresantes por escuela",exportOptions:{columns:[0,1]}}],columns:[{data:"name",title:"Escuela Profesional"},{data:"count",title:"Ingresantes"}]},init:function(){e.students.object=$("#student-table").DataTable(e.students.options)},reload:function(t){e.students.object.clear().rows.add(t).draw()}},init:function(){e.students.init()}},n={load:function(e){Highcharts.chart("career-chart",{title:{text:"Ingresantes por Escuela Profesional"},chart:{type:"column"},xAxis:{type:"category"},yAxis:{min:0,title:{text:"Cantidad"}},legend:{enabled:!1},credits:{text:"",href:""},tooltip:{pointFormat:"Cantidad Ingresantes: <b>{point.y}</b>"},series:[e],exporting:{buttons:t}})}},o={init:function(){this.terms.init()},terms:{init:function(){$.ajax({url:"/periodos-finalizados/get".proto().parseURL()}).done((function(t){$("#term-select").select2({data:t.items}),$("#term-select").on("change",(function(){a.initializeChart()})),a.initializeChart()}))}}},a={initializeChart:function(){mApp.block(".m-portlet__body",{message:"Cargando datos..."}),$.ajax({url:"/registrosacademicos/reporte-ingresantes/consolidado/get",type:"GET",data:{termId:$("#term-select").val()}}).done((function(t){console.log(t),n.load(t.chart),e.students.reload(t.table),$("#data-container").removeClass("m--hide")})).always((function(){mApp.unblock(".m-portlet__body")}))}};return{init:function(){Highcharts.setOptions({lang:{contextButtonTitle:"Opciones",viewFullscreen:"Ver en pantalla completa",printChart:"Imprimir",downloadPNG:"Descargar PNG",downloadJPEG:"Descargar JPEG",downloadPDF:"Descargar PDF",downloadSVG:"Descargar SVG",downloadCSV:"Descargar CSV",downloadXLS:"Descargar XLS",openInCloud:"Abrir editor online"}}),e.init(),o.init()}}}();$((function(){InitApp.init()}));