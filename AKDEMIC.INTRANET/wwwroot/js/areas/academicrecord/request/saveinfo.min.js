var safeinfo=function(){var t={repeater:{currentDetail:1,init:function(){$("#m_repeater_1").repeater({initEmpty:!1,defaultValues:{"text-input":"foo"},show:function(){$(this).slideDown();$(this).find(":input")},hide:function(t){$(this).slideUp(t)}})}},object:$("#main_form").validate({submitHandler:function(t,e){e.preventDefault(),$("#save_data").addLoader();var a=new FormData($(t)[0]),n=$(".div_container_detail"),i=0;$.each(n,(function(t,e){var n=$(e).find(":input[data-name='Term']").val(),r=$(e).find(":input[data-name='MeritOrder']").val(),d=$(e).find(":input[data-name='WeightedAverage']").val(),o=$(e).find(":input[data-name='ApprovedCredits']").val(),p=$(e).find(":input[data-name='TotalStudents']").val(),s=$(e).find(":input[data-name='Observation']").val(),l=$(e).find(":input[data-name='UpperFifthTotalStudents']").val(),u=$(e).find(":input[data-name='UpperThirdTotalStudents']").val();a.append(`Detail[${i}].Term`,n),a.append(`Detail[${i}].MeritOrder`,r),a.append(`Detail[${i}].WeightedAverage`,d),a.append(`Detail[${i}].ApprovedCredits`,o),a.append(`Detail[${i}].TotalStudents`,p),a.append(`Detail[${i}].Observation`,s),a.append(`Detail[${i}].UpperFifthTotalStudents`,l),a.append(`Detail[${i}].UpperThirdTotalStudents`,u),i++})),$.ajax({url:"/registrosacademicos/solicitudes/guardar-archivo",type:"POST",data:a,contentType:!1,processData:!1}).done((function(t){window.open(`/documentos/${t}`,"_blank"),swal({type:"success",title:"Completado",text:"Archivo generado.",allowOutsideClick:!1,confirmButtonText:"Aceptar"}).then((t=>{t.value&&(window.location.href="/registrosacademicos/solicitudes")}))})).fail((function(){swal({type:"error",title:"Error",confirmButtonClass:"btn btn-danger m-btn m-btn--custom",confirmButtonText:"Aceptar",text:502===e.status?"No hay respuesta del servidor":e.responseText})})).always((function(){$("#save_data").removeLoader()}))}}),init:function(){this.repeater.init()}};return{init:function(){t.init()}}}();$((()=>{safeinfo.init()}));