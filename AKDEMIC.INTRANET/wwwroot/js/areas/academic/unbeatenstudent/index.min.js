var InitApp=function(){var e={students:{object:null,options:getSimpleDataTableConfiguration({url:"/academico/estudiantes-invictos/get".proto().parseURL(),data:function(e){delete e.columns,e.faculty=$("#faculty_select").val(),e.career=$("#career_select").val(),e.search=$("#search").val()},pageLength:50,orderable:[],columns:[{title:"CÃ³digo",data:"code"},{title:"Nombre completo",data:"name"},{title:"Carrera",data:"career"},{title:"Facultad",data:"faculty"},{title:"Ciclo",data:"academicYear"}]}),init:function(){e.students.object=$("#students_table").DataTable(e.students.options),$("#search").doneTyping((function(){e.students.reload()}))},reload:function(){this.object.ajax.reload()}}},t={faculty:{init:function(){$.ajax({url:"/facultades/v2/get".proto().parseURL()}).done((function(a){$("#faculty_select").select2({data:a.items,minimumResultsForSearch:-1}),e.students.init(),t.faculty.events()}))},events:function(){$("#faculty_select").on("change",(function(){$("#faculty_select").val()===_app.constants.guid.empty?($("#career_select").empty(),$("#career_select").select2({placeholder:"Seleccione una escuela",disabled:!0})):t.career.load($("#faculty_select").val()),e.students.reload()}))}},career:{init:function(){$("#career_select").select2({placeholder:"Seleccione una escuela"}),t.career.events()},load:function(e){$.ajax({url:`/facultades/${e}/carreras/v2/get`.proto().parseURL()}).done((function(e){$("#career_select").empty(),$("#career_select").select2({placeholder:"Seleccione una carrera",data:e.items,minimumResultsForSearch:-1,disabled:!1})}))},events:function(){$("#career_select").on("change",(function(){e.students.reload()}))}},init:function(){this.faculty.init(),this.career.init()}};return{init:function(){t.init()}}}();$((function(){InitApp.init()}));