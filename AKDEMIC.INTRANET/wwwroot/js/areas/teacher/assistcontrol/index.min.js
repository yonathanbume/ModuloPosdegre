var reportAssistControl=function(){var t=null,e={data:{source:{read:{method:"GET",url:"/profesor/reporte_asistencia/cursos".proto().parseURL()}}},columns:[{field:"code",title:"Código",width:150},{field:"name",title:"Nombre"},{field:"sectioncode",title:"Código de Sección",width:150},{field:"options",title:"Opciones",width:450,sortable:!1,filterable:!1,template:function(t){var e="";return e+=`<button data-id="${t.idsection}" class="btn btn-info btn-sm m-btn m-btn--icon btn-assistance"<span><i class="la la-list"> </i> </span>Tomar Asist.</span></span></button>`,e+=` <button data-id="${t.idsection}" class="btn btn-primary btn-sm m-btn m-btn--icon btn-detail"<span><i class="la la-eye"> </i> </span>Reporte Asistencia</span></span></button>`,e+=` <a href='/profesor/secciones/${t.idsection}/registro-avance/pdf' target='_blank' data-id="${t.idsection}" class="btn btn-primary btn-sm m-btn m-btn--icon"<span><i class="la la-file-pdf-o"></i></span>Avance</span></span></a>`,e+=` <a href='/profesor/secciones/${t.idsection}/matriculados/pdf' target='_blank' data-id="${t.idsection}" class="btn btn-primary btn-sm m-btn m-btn--icon"<span><i class="la la-eye"> </i> </span>Listado</span></span></a>`,null!=t.sectionGroups&&t.sectionGroups.length>0&&(console.log(t.sectionGroups),$.each(t.sectionGroups,(function(n,a){e+=` <a href='/profesor/secciones/${t.idsection}/matriculados/pdf?sectionGroupId=${a.id}' target='_blank' data-id="${t.idsection}" class="btn btn-primary btn-sm m-btn m-btn--icon"<span><i class="la la-eye"> </i> </span>${a.code}</span></span></a>`}))),e}}]},n={term:{load:function(){$.ajax({url:"/periodos/get",type:"GET"}).done((function(n){$("#select_term").select2({data:n.items,placeholder:"Seleccionar periodo"}),$("#select_term").on("change",(function(){null!==t&&(t.destroy(),t=null),e.data.source.read.url=`/profesor/reporte_asistencia/cursos?termId=${$("#select_term").val()}`,(t=$(".m-datatable-courses").mDatatable(e)).on("click",".btn-detail",(function(){var t=$(this).data("id");location.href=`/profesor/reporte_asistencia/secciones/detalles/${t}`.proto().parseURL()})),t.on("click",".btn-assistance",(function(){var t=$(this).data("id");location.href=`/profesor/reporte_asistencia/asistencias/${t}`.proto().parseURL()}))})),$("#select_term").val(n.selected).trigger("change")}))},init:function(){n.term.load()}},init:function(){n.term.init()}};return{load:function(){n.init()}}}();$((function(){reportAssistControl.load()}));