var reportAssistControl=function(){var t=null,a={data:{source:{read:{method:"GET",url:`/profesor/reporte_asistencia/asistencias/${$("#SectionId").val()}/get`.proto().parseURL()}}},columns:[{field:"weekNumber",title:"Núm. Semana"},{field:"formattedStart",title:"Fecha"},{field:"options",title:"Opciones",width:200,sortable:!1,filterable:!1,template:function(t){var a="";return a+=`<button data-id="${t.id}" class="btn btn-primary btn-sm m-btn m-btn--icon btn-detail"<span><i class="la la-list"> </i> </span>Tomar asistencia</span></span></button>`}}]};return{load:function(){null!==t&&(t.destroy(),t=null),(t=$(".m-datatable-class").mDatatable(a)).on("click",".btn-detail",(function(){var t=$(this).data("id");location.href=`/profesor/asistencia/${t}`.proto().parseURL()}))}}}(),InitApp=function(){var t={classes:{object:null,options:{ajax:{url:`/profesor/reporte_asistencia/asistencias/${$("#SectionId").val()}/get`,type:"GET",data:function(t){delete t.columns,t.search=$("#search").val(),t.date=$("#datepicker").val()},dataSrc:""},serverSide:!1,columns:[{data:"number",title:"N°",orderable:!1},{data:"type",title:"Tipo de Sesión",orderable:!1},{data:"date",title:"Fecha",orderable:!1},{data:"start",title:"Inicio",orderable:!1},{data:"end",title:"Fin",orderable:!1},{data:"classroom",title:"Aula",orderable:!1},{data:null,title:"Opciones",width:"170px",orderable:!1,render:function(t){var a="";t.needReschedule?a+='<button disabled class="btn btn-primary btn-sm m-btn m-btn--icon"><i class="la la-list"></i>Necesita Reprogramación</button>':a+=`<a class="btn btn-primary btn-sm m-btn m-btn--icon btn-detail" href="${`/profesor/reporte_asistencia/asistencias/tomar-asistencia/${t.id}`.proto().parseURL()}"><i class="la la-list"> </i> Tomar asistencia  </a>`;return a}}]},init:function(){this.object=$("#data-table").DataTable(this.options)},reload:function(){this.object.ajax.reload()}}},a=function(){$("#datepicker").datepicker({endDate:"0d"}),$("#datepicker").on("changeDate",(function(a){t.classes.reload()})),$("#clear-datepicker").click((function(){$("#datepicker").datepicker("setDate",null)}))};return{init:function(){t.classes.init(),a(),$(".btn-history").on("click",(function(){var t=$(this).data("id");location.href=`/profesor/reporte_asistencia/historial/${t}`.proto().parseURL()}))}}}();$((function(){InitApp.init()}));