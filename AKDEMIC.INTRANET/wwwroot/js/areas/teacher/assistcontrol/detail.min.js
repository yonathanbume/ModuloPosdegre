var reportAssistControlDetails=function(){var t=null,e=$("#IdSection").val(),a=null,n={data:{source:{read:{method:"GET",url:`/profesor/reporte_asistencia/alumnos/get/${e}`.proto().parseURL()}}},columns:[{field:"fullName",title:"Nombres Completos",width:150},{field:"absences",title:"Faltas",width:150},{field:"assisted",title:"Asistencias",width:150},{field:"dictated",title:"Clases Dictadas",width:70},{field:"options",title:"Opciones",template:function(t){return`<button data-toggle="modal" data-studentid="${t.studentId}" data-target="#assistances_modal" id="" class="btn btn-primary btn-sm m-btn m-btn m-btn--icon btn-details"><i class="la la-eye"></i></button>`}}]};return{load:function(){null!==t&&(t.destroy(),t=null),t=$(".m-datatable-students").mDatatable(n),$(".m-datatable-students").on("click",".btn-details",(function(){var t=$(this).data("studentid");$.ajax({url:`/profesor/reporte_asistencia/alumnos/get-inasistencias/${e}/${t}`.proto().parseURL()}).done((function(t){null!=a&&null!=a&&(a.clear(),a.destroy()),a=$("#absences-datatable").DataTable({serverSide:!1,columns:[{title:"Fecha"}]}),$.each(t,(function(t,e){a.row.add([e]).draw(!1)}))}))}))}}}(),InitApp=function(){var t=null,e={students:{object:null,options:{serverSide:!1,ajax:{url:`/profesor/reporte_asistencia/alumnos/get/${$("#sectionId").val()}`.proto().parseURL(),dataSrc:""},columns:[{data:"userName",title:"CÃ³digo",width:"150px"},{data:"fullName",title:"Nombre Completo"},{data:"assisted",title:"Asistencias",orderable:!1},{data:"absences",title:"Faltas",orderable:!1},{data:"absencesPercentage",title:"% de Inasis.",orderable:!1,render:function(t){return`${t} %`}},{data:"dictated",title:"Clases dictadas",orderable:!1},{data:"totalClasses",title:"Total de Clases",orderable:!1},{data:null,title:"Opciones",orderable:!1,render:function(t){return`<button data-toggle="modal" data-studentid="${t.studentId}" data-target="#assistances_modal" id="" class="btn btn-primary btn-sm m-btn m-btn m-btn--icon btn-details"><i class="la la-eye"></i></button>`}}],dom:"Bfrtip",buttons:[{text:"Excel",action:function(t,e,a,n){window.open(`/profesor/reporte_asistencia/reporte-excel/${$("#sectionId").val()}`,"_blank")}}]},init:function(){this.object=$("#data-table").DataTable(this.options),$("#data-table").on("click",".btn-details",(function(){var e=$(this).data("studentid");$.ajax({url:`/profesor/reporte_asistencia/alumnos/get-inasistencias/${$("#sectionId").val()}/${e}`.proto().parseURL()}).done((function(e){null!=t&&null!=t&&(t.clear(),t.destroy()),t=$("#absences-datatable").DataTable({serverSide:!1,pageLength:10,columns:[{title:"Fecha"}]}),$.each(e,(function(e,a){t.row.add([a]).draw(!1)}))}))}))}}};return{init:function(){e.students.init()}}}();$((function(){InitApp.init()}));