var needreschedule=function(){var e={needreschedule:{object:null,options:{ajax:{url:"/profesor/clases/reprogramaciones/clases-necesitan-reprogramacion/get",type:"GET"},columns:[{data:"section",title:"Sección"},{data:"courseCode",title:"Code"},{data:"course",title:"Curso"},{data:"day",title:"Fecha"},{data:"schedule",title:"Horario"},{data:null,title:"Opciones",render:function(e){var t="";return t+=`<button data-id='${e.id}' class="btn btn-primary btn-sm m-btn m-btn m-btn--icon generate-request-need-reschedule"><span><i class="la la-edit"></i><span>Solicitar</span></span></button>`}}]},events:{onRequest:function(){$("#need_reschedule").on("click",".generate-request-need-reschedule",(function(){var e=$(this).data("id");t.request.show(e)}))},init:function(){this.onRequest()}},reload:function(){this.object.ajax.reload()},init:function(){this.object=$("#need_reschedule").DataTable(this.options),this.events.init()}},init:function(){e.needreschedule.init()}},t={request:{object:$("#class_need_reschedule_modal"),show:function(e){t.request.object.modal("show"),t.request.object.find("[name='ClassId']").val(e)},form:{object:$("#class_need_reschedule_modal_form").validate({submitHandler:function(n){var a=new FormData($(n)[0]);t.request.object.find(":input").attr("disabled",!0),$.ajax({url:"/profesor/clases/reprogramaciones/clases-necesitan-reprogramacion/crear",type:"POST",data:a,contentType:!1,processData:!1}).done((function(){t.request.object.modal("hide"),e.needreschedule.reload(),classReschedule.datatable.getObject("class-reschedule-datatable-get").reload(),swal({type:"success",title:"Completado",text:"Solicitud realizada con éxito.",confirmButtonText:"Entendido"})})).fail((function(e){swal({type:"error",title:"Error",confirmButtonClass:"btn btn-danger m-btn m-btn--custom",confirmButtonText:"Entendido",text:502===e.status?"No hay respuesta del servidor":e.responseText})})).always((function(){t.request.object.find(":input").attr("disabled",!1)}))}})},events:{onHidden:function(){t.request.object.on("hidden.bs.modal",(function(e){t.request.form.object.resetForm()}))},init:function(){this.onHidden()}},init:function(){this.events.init()}},init:function(){this.request.init()}},n=function(){$(".start-date-datepicker").datepicker({startDate:"0d"})};return{init:function(){e.init(),n(),t.init()}}}();$((()=>{needreschedule.init()}));