var SerialSelect=function(){var t=$("#serial_select"),e=$("#correlative"),a=function(t){$.ajax({url:("/caja/series/correlativo/get/"+t).proto().parseURL()}).done((function(t){e.val(t)})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)}))},r=function(){return $.ajax({url:"/caja/series/get".proto().parseURL()}).done((function(e){t.select2({placeholder:"Nro. de serie",data:e.items,minimumResultsForSearch:-1}).data("select2").$container.addClass("input-group-select2"),t.on("change",(function(){$(this).valid(),a(t.val())}))})).fail((function(){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error)}))};return{init:function(){r()},reload:function(){t.empty(),r().done((function(){a(t.val())}))}}}(),NewSerialForm=function(){var t;return{init:function(){t=$("#serial-form").validate({submitHandler:function(t){$(".btn-submit").addLoader(),$.ajax({url:$(t).attr("action"),type:"POST",data:$(t).serialize()}).done((function(){$("#create_serial").modal("hide"),SerialSelect.reload(),toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success)})).fail((function(t){null!==t.responseText&&""!==t.responseText?$("#create_msg_txt").html(t.responseText):$("#create_msg_txt").html(_app.constants.toastr.message.error.task),$("#create_msg").removeClass("m--hide").show()})).always((function(){$(".btn-submit").removeLoader()}))}}),$("#create_serial").on("hidden.bs.modal",(function(){$("#create_msg").addClass("m--hide"),t.resetForm()}))},reset:function(){t.resetForm()}}}(),PettyCashForm=function(){var t;return{init:function(){t=$("#pettycash-form").validate()},reset:function(){t.resetForm()}}}();jQuery(document).ready((function(){SerialSelect.init(),PettyCashForm.init(),NewSerialForm.init()}));