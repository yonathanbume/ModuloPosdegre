var InitApp=function(){var e={students:{object:null,options:getSimpleDataTableConfiguration({url:null,data:function(e){e.search=$("#search").val(),e.term=$("#select_term").val(),e.faculty=$("#faculty_select").val(),e.career=$("#career_select").val()},pageLength:10,columns:[{data:"code"},{data:"name"},{data:"faculty"},{data:"career"},{data:"academicYear"},{data:null,render:function(e){return`<a class="btn btn-primary btn-sm m-btn m-btn--icon btn-detail" href="${`/admin/notas/detalle/${e.id}`.proto().parseURL()}"><span><i class="la la-edit"></i><span> Ver Detalle </span></span></a>`}}]}),load:function(){if(console.log(e.students.options.ajax.data),void 0!==e.students.object&&null!==e.students.object){var t="/admin/notas/alumnos/get".proto().parseURL();e.students.object.ajax.url(t).load()}else e.students.options.ajax.url="/admin/notas/alumnos/get".proto().parseURL(),e.students.object=$("#students_table").DataTable(e.students.options)},init:function(t){e.students.options.ajax.url="/admin/notas/alumnos/get".proto().parseURL(),e.students.object=$("#students_table").DataTable(e.students.options),$("#students_table").on("click",".btn-detail",(function(e){console.log("test");$(this).data("id")}))}},grades:{object:null,options:getSimpleDataTableConfiguration({url:null,data:function(e){e.search=$("#search").val(),e.term=$("#select_term").val(),e.faculty=$("#faculty_select").val(),e.career=$("#career_select").val()},pageLength:10,columns:[{data:"code"},{data:"name"},{data:"faculty"},{data:"career"},{data:"academicYear"},{data:"id",render:function(e){return`<button class="btn btn-secondary btn-sm m-btn m-btn--icon btn-detail" data-id="${e}"><span><i class="la la-edit"></i><span> Ver Detalle </span></span></a>`}}]}),load:function(){if(console.log(e.students.options.ajax.data),void 0!==e.students.object&&null!==e.students.object){var t="/admin/notas/alumnos/get".proto().parseURL();e.students.object.ajax.url(t).load()}else e.students.options.ajax.url="/admin/notas/alumnos/get".proto().parseURL(),e.students.object=$("#students_table").DataTable(e.students.options)}}},t={term:{init:function(){$.ajax({url:"/periodos/get".proto().parseURL()}).done((function(a){$("#select_term").select2({data:a.items}),null!==a.selected&&$("#select_term").val(a.selected).trigger("change.select2"),e.students.init($("#select_term").val()),t.term.events()}))},events:function(){$("#select_term").on("change",(function(t){var a=$("#select_term").val();e.students.load(a)}))}},faculty:{init:function(){$.ajax({url:"/facultades/v2/get".proto().parseURL()}).done((function(e){$("#faculty_select").select2({data:e.items,minimumResultsForSearch:-1}),t.faculty.events()}))},events:function(){$("#faculty_select").on("change",(function(){var a=$("#select_term").val(),n=$("#faculty_select").val();n===_app.constants.guid.empty?(e.students.load(a),$("#career_select").empty(),$("#career_select").select2({placeholder:"Seleccione una facultad",disabled:!0})):(e.students.load(a,n),t.career.load($("#faculty_select").val()))}))}},career:{init:function(){$("#career_select").select2({placeholder:"Seleccione una escuela",disabled:!0}),t.career.events()},load:function(e){$.ajax({url:`/facultades/${e}/carreras/v2/get`.proto().parseURL()}).done((function(e){$("#career_select").empty(),$("#career_select").select2({placeholder:"Seleccione una escuela",data:e.items,minimumResultsForSearch:-1,disabled:!1})}))},events:function(){$("#career_select").on("change",(function(){console.log("hit select");var t=$("#select_term").val(),a=$("#faculty_select").val(),n=$("#career_select").val();n===_app.constants.guid.empty?e.students.load(t,a):e.students.load(t,a,n)}))}},init:function(){t.term.init(),t.faculty.init(),t.career.init()}},a=function(){$("#search").doneTyping((function(){e.students.load()}))};return{init:function(){t.init(),a()}}}();$((function(){InitApp.init()}));