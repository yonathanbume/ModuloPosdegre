var InitApp=function(){var e={term:{init:function(){this.events(),this.load()},load:function(){$.ajax({url:"/periodos/get".proto().parseURL()}).done((function(e){$("#term-select").select2({data:e.items}),null!==e.selected&&$("#term-select").val(e.selected).trigger("change")}))},events:function(){$("#term-select").on("change",(function(e){t.sections.reload()}))}},academicDepartment:{init:function(){this.load(),this.events()},load:function(){$.ajax({url:"/departamentos-academicos/get".proto().parseURL()}).done((function(e){$("#academicDepartment-select").select2({placeholder:"Sin asignar",data:e,allowClear:!0})}))},events:function(){$("#academicDepartment-select").on("change",(function(){t.sections.reload()}))}},init:function(){this.term.init(),this.academicDepartment.init()}},t={sections:{object:null,options:{serverSide:!0,filter:!1,lengthChange:!1,ajax:{url:"/admin/reporte-docentes/get".proto().parseURL(),type:"GET",dataType:"JSON",data:function(e){delete e.columns,e.termId=$("#term-select").val(),e.academicDepartmentId=$("#academicDepartment-select").val(),e.search=$("#search").val()}},pageLength:50,orderable:[],columns:[{data:"academicDepartment",title:"Dep. Académico",orderable:!1,render:function(e){var t=e;return""!==e&&null!==e||(t="Sin asignar"),t}},{data:"username",title:"Usuario"},{data:"name",title:"Docente",orderable:!1},{data:"sections",title:"Secciones Asignadas",orderable:!1},{data:null,title:"Opciones",orderable:!1,render:function(e){var t="";return t+=`<a class="btn btn-brand m-btn btn-sm m-btn--icon btn-manage" href="${`/admin/reporte-docentes/detalle/${e.id}/${$("#term-select").val()}`.proto().parseURL()}"><span><i class="la la-gear"></i><span>Detalle</span></span></a> `}}],dom:"Bfrtip",buttons:[{extend:"excelHtml5",title:"Docentes por periodo académico",exportOptions:{columns:[0,1,2,3]}}]},reload:function(){null==this.object?this.object=$("#data-table").DataTable(this.options):this.object.ajax.reload()}}},a=function(){$("#search").doneTyping((function(){t.sections.reload()}))};return{init:function(){e.init(),a()}}}();$((function(){InitApp.init()}));