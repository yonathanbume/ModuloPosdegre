var UniversityAuthorityManagement=function(){var e=function(){$("#StartDate, #EndDate").datepicker({format:_app.constants.formats.datepicker}),$("#ImgOrVid").on("change",(function(){1==$(this).val()?($(".image-div").show(),$(".youtube-div").hide(),$("#YoutubeUrlAdd").val("")):($(".image-div").hide(),$("#Image").val(null),$(".youtube-div").show())}))},t=function(){$("#add-form").validate({submitHandler:function(e){var t=$(e).find('button[type="submit"]');t.addLoader();var i=new FormData($("#add-form")[0]);$.ajax({type:"POST",url:"/admin/anuncios/por-sistema/editar".proto().parseURL(),data:i,processData:!1,contentType:!1,success:function(){window.location.href="/admin/anuncios/por-sistema".proto().parseURL()},error:function(e){toastr.error(e.responseText,_app.constants.toastr.title.error)},complete:function(){t.removeLoader()}})}})},i={appearsin:{init:function(){$("#AppearsIn").on("change",(function(){1==$(this).val()?$("#div_roles").removeClass("d-none"):($("#div_roles").addClass("d-none"),$("#Roles").val(null).trigger("change"))}))}},roles:{init:function(){$.ajax({url:"/roles-anuncios",type:"GET"}).done((function(e){e.items.unshift({id:"0",text:"Todos"}),$("#Roles").select2({data:e.items,placeholder:"Seleccionar Roles",allowClear:!0}),$("#Roles").on("change",(function(){var e=$(this).val();e.length>1&&e.some((e=>"0"==e))&&$("#Roles").val(["0"]).trigger("change")}));var t=$("#Roles_input").val().split(",");t.length>0&&""!=$("#Roles_input").val()?$("#Roles").val(t).trigger("change"):$("#Roles").val(["0"]).trigger("change")}))}},init:function(){i.roles.init(),i.appearsin.init()}},n={init:function(){$("#Description").summernote(this.defaultOptions)},defaultOptions:{lang:"es-ES",airMode:!1,height:250}};return{init:function(){t(),n.init(),e(),i.init(),1==$("#ImgOrVid").val()?($(".image-div").show(),$(".youtube-div").hide()):($(".image-div").hide(),$(".youtube-div").show())}}}();$((function(){UniversityAuthorityManagement.init()}));