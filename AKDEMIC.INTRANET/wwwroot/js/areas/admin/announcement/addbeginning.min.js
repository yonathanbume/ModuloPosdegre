var UniversityAuthorityManagement=function(){var n=function(){$("#StartDateAdd, #EndDateAdd").datepicker({format:_app.constants.formats.datepicker}),$("#ImgOrVid").on("change",(function(){1==$(this).val()?($(".image-div").show(),$(".youtube-div").hide(),$("#YoutubeUrlAdd").val("")):($(".image-div").hide(),$("#Image").val(null),$(".youtube-div").show())}))},t=function(){$("#add-form").validate({submitHandler:function(n){var t=$(n).find('button[type="submit"]');t.addLoader();var e=new FormData($("#add-form")[0]);$.ajax({type:"POST",url:"/admin/anuncios/por-sistema/guardar".proto().parseURL(),data:e,processData:!1,contentType:!1,success:function(){window.location.href="/admin/anuncios/por-sistema".proto().parseURL()},error:function(n){toastr.error(n.responseText,_app.constants.toastr.title.error)},complete:function(){t.removeLoader()}})}})},e={init:function(){$("#DescriptionAdd").summernote(this.defaultOptions)},defaultOptions:{lang:"es-ES",airMode:!1,height:250}},i={appearsin:{init:function(){$("#AppearsInAdd").on("change",(function(){1==$(this).val()?$("#div_roles").removeClass("d-none"):($("#div_roles").addClass("d-none"),$("#RolesAdd").val(null).trigger("change"))}))}},roles:{init:function(){$.ajax({url:"/roles-anuncios",type:"GET"}).done((function(n){n.items.unshift({id:"0",text:"Todos"}),$("#RolesAdd").select2({data:n.items,placeholder:"Seleccionar Roles",allowClear:!0}),$("#RolesAdd").on("change",(function(){var n=$(this).val();n.length>1&&n.some((n=>"0"==n))&&$("#RolesAdd").val(["0"]).trigger("change")}))}))}},init:function(){i.roles.init(),i.appearsin.init()}};return{init:function(){t(),e.init(),n(),$(".youtube-div").hide(),i.init()}}}();$((function(){UniversityAuthorityManagement.init()}));