var directedCourse=function(){var t={object:null,options:getSimpleDataTableConfiguration({url:"/admin/generacion-actas/get-dirigidos".proto().parseURL(),data:function(t){delete t.columns,t.teacherId=$("#teacher_select").val()},pageLength:50,orderable:[],columns:[{data:"course",title:"Curso"},{data:"teacher",title:"Profesor"},{data:"printQuantity",title:"Impresiones Realizadas"},{data:"status",title:"Estado",render:function(t){var e={Recibido:{title:"Recibido",class:" m-badge--success"},Generado:{title:"Generado",class:" m-badge--warning"},Pendiente:{title:"Pendiente",class:" m-badge--metal"}};return'<span class="m-badge '+e[t].class+' m-badge--wide">'+e[t].title+"</span>"}},{data:null,title:"Opciones",orderable:!1,render:function(t){var e=`/admin/generacion-actas/acta-final-curso-dirigido/${t.courseId}/${t.teacherId}`.proto().parseURL();return t.wasGenerated?`<button data-url=${e} class="btn btn-brand btn-sm m-btn m-btn--icon btn-report" download><span><i class="la la-file-text-o"></i><span> Imprimir </span></span></button>`:`<button data-url=${e} class="btn btn-primary btn-sm m-btn m-btn--icon btn-report" download><span><i class="la la-file-text-o"></i><span> Generar </span></span></button>`}}]}),reload:function(){this.object.ajax.reload()},events:{onReport:function(){$("#data-table").on("click",".btn-report",(function(){var e=$(this).data("url"),a=$(this);a.addLoader(),$.fileDownload(e,{httpMethod:"GET",successCallback:function(){a.removeLoader(),toastr.success("Archivo descargado satisfactoriamente","Ã‰xito"),t.reload()},failCallback:function(){a.removeLoader(),toastr.error("Error al generar el archivo","Error!"),t.reload()}})}))},init:function(){this.onReport()}},init:function(){t.object=$("#data-table").DataTable(t.options),this.events.init()}},e={teachers:{events:{onChange:function(){$("#teacher_select").on("change",(function(){t.reload()}))},init:function(){this.onChange()}},init:function(){$("#teacher_select").select2({ajax:{delay:300,url:"/profesores/get/v2".proto().parseURL()},allowClear:!0,minimumInputLength:2,placeholder:"Seleccione profesor"}),this.events.init()}},init:function(){this.teachers.init()}};return{init:function(){e.init(),t.init()}}}();$((function(){directedCourse.init()}));