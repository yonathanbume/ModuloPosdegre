var InitApp=function(){var e={report:{object:null,options:{serverSide:!0,filter:!1,lengthChange:!1,ajax:{url:"/admin/reporte_aprobados_desaprobados_cursos/seccion/datatable/get".proto().parseURL(),type:"GET",dataType:"JSON",data:function(e){delete e.columns,e.termId=$("#select_terms").val(),e.careerId=$("#select_careers").val(),e.academicYear=$("#academicYear").val()}},pageLength:50,orderable:[],columns:[{title:"Cod. Alumno",data:"userName"},{title:"Nombre Completo",data:"fullName"},{title:"Periodo Académico",data:"term"},{title:"Sección",data:"section"},{title:"Curso",data:"course"},{title:"Nota Final",data:"finalGrade",orderable:!1},{title:"Promedio Semestral",data:"weightedAverageGrade",orderable:!1},{title:"% de Asistencia",data:null,orderable:!1,render:function(e){var t="";0==e.totalClassSection?t+="No hay clases creadas":t+=`${100*e.attendanceClass/e.totalClassSection} %`;return t}}],dom:"Bfrtip",buttons:[{extend:"excelHtml5",title:"Reporte de estudiantes",exportOptions:{columns:[0,1,2,3,4,5,6,7]}},{extend:"pdfHtml5",title:"Reporte de estudiantes",exportOptions:{columns:[0,1,2,3,4,5,6,7]}}]},reload:function(){null==this.object?this.object=$("#data-table").DataTable(this.options):this.object.ajax.reload()}}},t=function(){$("#btn-search").on("click",(function(){null==$("#select_terms").val()||""==$("#select_terms").val()||"undefined"==$("#select_terms").val()?showToastrFail("Debe completar todos los campos"):e.report.reload()}))},a={init:function(){this.terms.init(),this.careers.init(),this.academicYears.init()},terms:{init:function(){$("#select_terms").select2(),this.load()},load:function(){$.ajax({url:"/periodos/get".proto().parseURL(),type:"GET"}).done((function(e){$("#select_terms").select2({data:e.items}),null!=e.selected&&$("#select_terms").val(e.selected).trigger("change")}))}},careers:{init:function(){$.ajax({url:"/carreras/get".proto().parseURL(),type:"GET"}).done((function(e){$("#select_careers").select2({data:e.items})}))}},academicYears:{init:function(){$("#academicYear").select2(),this.load()},load:function(){$.ajax({url:"/ciclos/numeros-romanos/get".proto().parseURL(),type:"GET"}).done((function(e){$("#academicYear").select2({data:e})}))}}};return{init:function(){t(),a.init()}}}();$((function(){InitApp.init()}));