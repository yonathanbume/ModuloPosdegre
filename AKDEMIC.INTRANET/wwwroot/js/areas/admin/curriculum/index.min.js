var index=function(){var a={curriculum:{object:null,options:{ajax:{url:"/admin/planes-de-estudios/get".proto().parseURL(),type:"GET",dataType:"JSON",data:function(a){a.search="",a.faculty=$("#faculty_select").val(),a.career=$("#career_select").val(),a.academicProgram=$("#academicProgram_select").val()}},columns:[{data:"faculty",title:"Facultad"},{data:"name",title:"Carrera"},{data:"academicProgram",title:"Programa"},{data:"curriculumCode",title:"Plan Estudio"},{data:null,title:"Opciones",width:200,orderable:!1,render:function(a){var e="";return e+=`<a href="${`/admin/planes-de-estudios/detalle/${a.id}`.proto().parseURL()}" class="btn btn-primary btn-sm m-btn m-btn--icon btn-detail" <span><i class="la la-eye"> </i> </span> Ver plan de estudio </span></span></a> `,a.isActive&&(e+=`<button class="btn btn-primary m-btn btn-sm m-btn--icon m-btn--icon-only btn-evaluation" data-id="${a.id}"><i class="la la-download"></i></button>`),e}}]},init:function(){this.object=$("#data-table").DataTable(this.options),$("#data-table").on("click",".btn-evaluation",(function(){var a=$(this).data("id");$(this);window.location.href=`/admin/planes-de-estudios/pdf/${a}`.proto().parseURL()})),$("#search").doneTyping((function(){a.curriculum.reload()}))},reload:function(){this.object.ajax.reload()}}},e={faculty:{init:function(){$.ajax({url:"/facultades/v2/get".proto().parseURL()}).done((function(a){$("#faculty_select").select2({data:a.items}),e.faculty.events(),e.career.init($("#faculty_select").val())}))},events:function(){$("#faculty_select").on("change",(function(){a.curriculum.reload(),$("#career_select").empty(),e.career.init($("#faculty_select").val())}))}},career:{init:function(a){$.ajax({url:("/admin/planes-de-estudios/carreras/"+a+"/get").proto().parseURL()}).done((function(a){a.unshift({id:_app.constants.guid.empty,text:"Todas"}),$("#career_select").select2({data:a}).trigger("change"),e.career.events(),e.academicProgram.init($("#career_select").val())}))},events:function(){$("#career_select").on("change",(function(){a.curriculum.reload(),$("#academicProgram_select").empty(),e.academicProgram.init($("#career_select").val())}))}},academicProgram:{init:function(a){a==_app.constants.guid.empty||""==a||null==a?$("#academicProgram_select").select2({disabled:!0}):$.ajax({url:`/especialidadporcarrera/${a}/get`.proto().parseURL()}).done((function(a){a.items.unshift({id:_app.constants.guid.empty,text:"Todos"}),$("#academicProgram_select").select2({data:a.items,disabled:!1}).trigger("change"),e.academicProgram.events()}))},events:function(){$("#academicProgram_select").on("change",(function(){a.curriculum.reload()}))}},init:function(){e.faculty.init()}};return{init:function(){a.curriculum.init(),e.init()}}}();$((function(){index.init()}));