var Datatable=function(){var a;const e={searching:!1,ajax:{data:function(a,e){a.search=$("#search").val(),a.careerId=$("#careerId").val(),a.facultyId=$("#facultyId").val();for(var t=0;t<a.columns.length;t++)delete a.columns[t].name,delete a.columns[t].search},url:"/admin/reporte-semestres-matriculados/get".proto().parseURL(),type:"GET"},columns:[{title:"CÃ³digo",data:"code"},{title:"Estudiante",data:"student"},{title:"Facultad",data:"faculty"},{title:"Escuela Profesional",data:"career"},{title:"Periodos matriculados",data:"terms"}],dom:"Bfrtip",buttons:[{text:"Excel",action:function(a,e,t,l){var r=`/admin/reporte-semestres-matriculados/get-excel?careerId=${$("#careerId").val()}&facultyId=${$("#facultyId").val()}`;window.open(r,"_blank")}}]};return{init:function(){a=$("#datatable").DataTable(e),$.when($.ajax({url:"/carreras/v2/get".proto().parseURL()})).then((function(a){$("#careerId").select2({placeholder:"Seleccione una escuela",allowClear:!0,data:a.items}),$("#careerId").val("").trigger()})),$.when($.ajax({url:"/facultades/v2/get".proto().parseURL()})).then((function(a){$("#facultyId").select2({placeholder:"Seleccione una facultad",allowClear:!0,data:a.items}),$("#facultyId").on("change",(function(a){var e=$(this).val();$("#careerId").empty().select2(),$.when($.ajax({url:`/facultades/${e}/carreras/v2/get`})).then((function(a){$("#careerId").select2({placeholder:"Seleccione una escuela",minimumResultsForSearch:-1,allowClear:!0,data:a.items})}))}))})),$("#search").doneTyping((function(){a.ajax.reload()})),$("#facultyId").change((function(){a.ajax.reload()})),$("#careerId").change((function(){a.ajax.reload()}))}}}();$((function(){Datatable.init()}));