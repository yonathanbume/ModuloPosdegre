var index=function(){var e={object:null,options:{ajax:{url:"/admin/reporte-examen-sustitutorio/get-secciones-habilitadas",type:"GET",data:function(e){e.termId=$("#term_select").val(),e.careerId=$("#career_select").val(),e.curriculumId=$("#curriculum_select").val(),e.searchValue=$("#search").val()}},columns:[{data:"section",title:"SecciÃ³n"},{data:"courseCode",title:"Cod"},{data:"course",title:"Curso"},{data:"failedStudents",title:"Cant. Estudiantes Desaprobados"}]},reload:function(){null==e.object?this.object=$("#datatable").DataTable(this.options):this.object.ajax.reload()}},t={curriculum:{load:function(e){$("#curriculum_select").empty(),null==e||"Todos"==e?$("#curriculum_select").select2({disabled:!0,placeholder:"Seleccionar plan de estudio"}).trigger("change"):$.ajax({url:`/planes2?careerId=${e}`,type:"GET"}).done((function(e){e.unshift("Todos"),$("#curriculum_select").select2({disabled:!1,data:e}).trigger("change")}))},events:{init:function(){$("#curriculum_select").on("change",(function(){e.reload()}))}},init:function(){t.curriculum.events.init(),t.curriculum.load()}},career:{init:function(){$.ajax({url:"/carreras/get",type:"GET"}).done((function(e){e.items.unshift("Todos"),$("#career_select").select2({data:e.items}),$("#career_select").on("change",(function(){var e=$(this).val();t.curriculum.load(e)}))}))}},term:{init:function(){$.ajax({url:"/periodos/get",type:"GET"}).done((function(t){$("#term_select").select2({data:t.items}),$("#term_select").val(t.selected).trigger("change"),$("#term_select").on("change",(function(){e.reload()}))}))}},init:function(){t.career.init(),t.term.init(),t.curriculum.init()}},i={onSearch:function(){$("#search").doneTyping((function(){e.reload()}))},init:function(){this.onSearch()}};return{init:function(){t.init(),i.init()}}}();$((()=>{index.init()}));