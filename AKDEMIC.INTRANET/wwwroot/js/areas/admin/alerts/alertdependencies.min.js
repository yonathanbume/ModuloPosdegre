var reportAlertDependencies=function(){var e=null,a={data:{source:{read:{method:"GET",url:""}}},columns:[{field:"type",title:"Tipo de alerta",width:150,template:function(e){return console.log(e),1==e.type?'<span class="m-badge  m-badge--success m-badge--wide">Alerta Verde</span>':2==e.type?'<span class="m-badge  m-badge--warning m-badge--wide">Alerta Amarila</span>':3==e.type?'<span class="m-badge  m-badge--danger m-badge--wide">Alerta Roja</span>':""}},{field:"description",title:"Descripción",width:100},{field:"registerdate",title:"Fecha de emisión",width:180},{field:"status",title:"Estado",template:function(e){return 1==e.status?'<span class="m-badge  m-badge--success m-badge--wide">Activo</span>':'<span class="m-badge  m-badge--metal m-badge--wide">Inactivo</span>'}}]},t=function(){var t=$("#select_dependencies").val();null!==e&&(e.destroy(),e=null),a.data.source.read.url=`/admin/reporte_alerta_dependencias/${t}/get`.proto().parseURL(),e=$(".m-datatable").mDatatable(a)},n=function(){google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback((function(){$.ajax({type:"GET",url:"/admin/reporte_alerta_dependencias/chart".proto().parseURL(),error:function(e,a,t){toastr.error(err.message)},success:function(e){e.length>0?function(e){var a=[["",""]];$.each(e,(function(e,t){a.push([t.dependency.name,t.alertCount])})),e=google.visualization.arrayToDataTable(a);var t={height:400,width:700,titleFontSize:20,is3D:!0};new google.visualization.PieChart(document.getElementById("chart_div_report_alert_dependencies")).draw(e,t)}(e):document.getElementById("chart_div_report_alert_dependencies").innerHTML=""}})}))};return{load:function(){n(),$.ajax({url:"/dependencias/get".proto().parseURL()}).done((function(e){$("#select_dependencies").select2({data:e.items}).trigger("change")})),$("#select_dependencies").on("change",(function(e){t()}))}}}();$((function(){reportAlertDependencies.load()}));