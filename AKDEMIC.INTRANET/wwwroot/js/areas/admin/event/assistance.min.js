var assistance=function(){var e=null,t=$("#Id").val(),a={data:{type:"remote",source:{read:{method:"GET",url:`/admin/eventos/asistencia/detalle/${t}`.proto().parseURL()}}},sortable:!1,pagination:!1,columns:[{field:"assistance",title:"Inasistencia",width:90,textAlign:"center",template:function(e,t){var a="";return a+="<label class='m-checkbox m-checkbox--single m-checkbox--solid m-checkbox--brand'>",a+=`<input data-id='${e.id}' type='checkbox' name='${t}' value='true' ${e.assistance?"checked":""}/>`,a+=`<input name='${t}' type='hidden' value='false' />`,a+="<span></span></label>"}},{field:"fullname",title:"Nombres Completos",width:250},{field:"email",title:"Email",width:250}]},s=function(){null!==e&&(e.destroy(),e=null),e=$(".m-datatable").mDatatable(a),$("#btn-save").on("click",(function(){var a=[];$("input:checkbox").each((function(){var e={eventId:t,id:$(this).data("id"),absent:$(this).is(":checked")};a.push(e)})),$("#btn-save").addLoader(),$.ajax({type:"POST",url:`/admin/eventos/asistencia/detalle/${t}/post`.proto().parseURL(),data:{data:{List:a}},success:function(){toastr.success(_app.constants.toastr.message.success.update,_app.constants.toastr.title.success),e.reload(),$("#btn-save").removeLoader()},error:function(){toastr.error(_app.constants.toastr.message.error.create,_app.constants.toastr.title.error),$("#btn-save").removeLoader()}})}))};return{load:function(){s()}}}();$((function(){assistance.load()}));