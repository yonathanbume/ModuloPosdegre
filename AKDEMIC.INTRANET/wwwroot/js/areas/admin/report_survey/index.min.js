var InitApp=function(){var e={surveys:{object:null,options:getSimpleDataTableConfiguration({url:"/admin/reporte_encuesta/listar".proto().parseURL(),data:function(e){delete e.columns,e.search=$("#search").val()},pageLength:50,orderable:[],columns:[{title:"Codigo",data:"code"},{title:"Nombre",data:"name"},{title:"Fecha de Publicación",data:"publishDate"},{title:"Encuestas Enviadas",data:"surveyuserCount"},{title:"Encuestas Respondidas",data:"surveyAnswered"},{title:"Opciones",data:null,render:function(e){var a=`/admin/reporte_encuesta/${e.id}/detalle`.proto().parseURL(),t=`/admin/reporte_encuesta/${e.id}/reporte-excel`.proto().parseURL(),n="";return n+=`<a href="${a}"  `,n+="class='btn btn-brand ",n+="m-btn btn-sm m-btn--icon btn-detail' ",n+=" data-id='"+e.id+"'>",n+="<span><i class='la la-eye'></i><span>Ver Resultados</span></span></a> ",e.isAnonymous||(n+=`<a href="${t}"  `,n+="class='btn btn-success ",n+="m-btn btn-sm m-btn--icon' ",n+=" data-id='"+e.id+"'>",n+="<span><i class='flaticon-file'></i></a> "),n}}]}),init:function(){e.surveys.object=$("#data-table").DataTable(e.surveys.options)},reload:function(){e.surveys.object.ajax.reload()}}},a=function(){$("#search").doneTyping((function(){e.surveys.object.ajax.reload()}))},t=function(){$(".download-report").click((function(){var e=$(this);e.attr("disabled","disabled");$.fileDownload("/admin/reporte_encuesta/reporte",{httpMethod:"GET",successCallback:function(){toastr.success("Archivo descargado satisfactoriamente","Éxito"),e.removeAttr("disabled")}}).done((function(){e.removeAttr("disabled")})).fail((function(){alert("File download failed!")})).always((function(){console.log("always")}))}))};return{init:function(){e.surveys.init(),a(),t()}}}();$((function(){InitApp.init()}));