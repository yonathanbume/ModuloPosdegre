var studentlist=function(){var t=null,a={data:{source:{read:{method:"GET",url:"/doctor/alumnos/get".proto().parseURL()}}},columns:[{field:"username",title:"Usuario",width:100},{field:"fullname",title:"Nombres Completos",width:200},{field:"email",title:"Correo electrónico",width:180},{field:"faculty",title:"Escuela Profesional",width:180},{field:"options",title:"Opciones",width:350,sortable:!1,filterable:!1,template:function(t){var a="";return!1===t.iscreatedpsychologyrecord?a+=' <span style="width: 163px;" class="m-badge  m-badge--info m-badge--wide"> Sin Ficha Psicológica</span>':(a+=`<button data-id='${t.psycologyid}' class="btn btn-primary btn-sm m-btn m-btn--icon btn-detail" > <span><i class="la la-eye"></i><span> Ver Ficha Psicológica</span></span></button>`,a+=`  <button data-id="${t.id}" class="btn btn-danger btn-sm m-btn m-btn--icon btn-delete"<span><i class="la la-trash"> </i> </span> Eliminar </span></span></button>`),a}}]};return{load:function(){null!==t&&(t.destroy(),t=null),(t=$(".m-datatable").mDatatable(a)).on("click",".btn-detail",(function(){var t=$(this).data("id");mApp.block(".m-portlet",{type:"loader",message:"Cargando..."}),location.href=`/doctor/alumnos/ficha/${t}`.proto().parseURL()})),t.on("click",".btn-delete",(function(){var a=$(this).data("id");swal({title:"¿Está seguro?",text:"Todos los datos relacionados de la ficha psicológica del estudiante serán eliminado permanentemente",type:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminarlo",cancelButtonText:"Cancelar"}).then((function(e){e.value&&$.ajax({url:`/doctor/alumnos/ficha-psicologica/eliminar/${a}`.proto().parseURL(),type:"POST",success:function(){toastr.success(_app.constants.toastr.message.success.delete,_app.constants.toastr.title.success),t.reload()},error:function(){toastr.error(_app.constants.toastr.message.error.delete,_app.constants.toastr.title.error)}})}))}))}}}();$((function(){studentlist.load()}));