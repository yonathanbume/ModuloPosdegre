@model AKDEMIC.INTRANET.Areas.Teacher.Models.GradeRecoveryViewModels.GradeRecoveryExamViewModel
@{
    ViewBag.Title = "Detalles del Examen";
    ViewBag.Breadcrumbs = new[] {
        new BreadcrumbViewData{Name="Gestion de Examen de Recuperación de Nota",Controller="GradeRecovery",Action="Index", Area="Teacher"},
        new BreadcrumbViewData { Name = ViewBag.Title, Controller = null, Action = null }
    };
}

<input type="hidden" asp-for="GradeRecoveryExamId" />
<div class="m-content">

    @if (Model.Status == ConstantHelpers.GRADE_RECOVERY_EXAM_STATUS.PENDING)
    {
        <div class="m-alert m-alert--icon m-alert--icon-solid m-alert--outline alert alert-primary alert-dismissible fade show" role="alert">
            <div class="m-alert__icon">
                <i class="flaticon-exclamation-1"></i>
                <span></span>
            </div>
            <div class="m-alert__text">
                <strong>Examen Pendiente!</strong> El examen a&uacute;n no ha sido confirmado por el administrador.
            </div>
        </div>
    }

    @if (Model.Status == ConstantHelpers.GRADE_RECOVERY_EXAM_STATUS.CONFIRMED)
    {
        <div class="m-alert m-alert--icon m-alert--icon-solid m-alert--outline alert alert-primary alert-dismissible fade show" role="alert">
            <div class="m-alert__icon">
                <i class="flaticon-exclamation-1"></i>
                <span></span>
            </div>
            <div class="m-alert__text">
                <strong>Examen Confirmado!</strong> Podrá asignar notas a los estudiantes asignados.
            </div>
        </div>
    }

    @if (Model.Status == ConstantHelpers.GRADE_RECOVERY_EXAM_STATUS.EXECUTED)
    {

        <div class="m-alert m-alert--icon m-alert--icon-solid m-alert--outline alert alert-primary alert-dismissible fade show" role="alert">
            <div class="m-alert__icon">
                <i class="flaticon-exclamation-1"></i>
                <span></span>
            </div>
            <div class="m-alert__text">
                <strong>Examen Concluido!</strong> El detalle de las notas se encuentra en la parte inferior.
            </div>
        </div>
    }

    <div class="m-portlet">
        <div class="m-portlet__head">
            <div class="m-portlet__head-caption">
                <div class="m-portlet__head-title">
                    <h3 class="m-portlet__head-text">
                        @ViewBag.Title
                    </h3>
                </div>
            </div>
        </div>
        <div class="m-portlet__body">
            <div class="form-group m-form__group row">
                <div class="col-lg-6">
                    <label>Curso:</label>
                    <input class="form-control m-input" value="@Model.Course" readonly>
                </div>
                <div class="col-lg-6">
                    <label>Secci&oacute;n:</label>
                    <input class="form-control m-input" value="@Model.Section" readonly>
                </div>
            </div>
            <div class="form-group m-form__group row">
                <div class="col-lg-6">
                    <label>Periodo:</label>
                    <input class="form-control m-input" value="@Model.Term" readonly>
                </div>
                <div class="col-lg-6">
                    <label>Aula donde se realizará el exámen:</label>
                    <input class="form-control m-input" value="@Model.Classroom" readonly>
                </div>
            </div>
            <div class="form-group m-form__group row">
                <div class="col-lg-6">
                    <label>Fec/hora Inicio:</label>
                    <input class="form-control m-input" readonly value="@Model.StartDateTime">
                </div>
                <div class="col-lg-6">
                    <label>Fec/hora Fin:</label>
                    <input class="form-control m-input" readonly value="@Model.EndDateTime">
                </div>
            </div>
        </div>
    </div>

    @if (Model.Status == ConstantHelpers.GRADE_RECOVERY_EXAM_STATUS.CONFIRMED)
    {
        <div class="m-portlet">
            <div class="m-portlet__head">
                <div class="m-portlet__head-caption">
                    <div class="m-portlet__head-title">
                        <h3 class="m-portlet__head-text">
                            Estudiantes asignados al examen
                        </h3>
                    </div>
                </div>
            </div>
            <div class="m-portlet__body">
                <table class="table table-hover" id="assigned_students"></table>
            </div>
            <div class="m-portlet__foot">
                <div class="row align-items-center">
                    <div class="col-lg-6 m--valign-middle">
                    </div>
                    <div class="col-lg-6 m--align-right">
                        <button type="button" id="save_grades" class="btn btn-primary">Guardar Notas</button>
                    </div>
                </div>
            </div>
        </div>
    }


    @if (Model.Status == ConstantHelpers.GRADE_RECOVERY_EXAM_STATUS.EXECUTED)
    {
        <div class="m-portlet">
            <div class="m-portlet__head">
                <div class="m-portlet__head-caption">
                    <div class="m-portlet__head-title">
                        <h3 class="m-portlet__head-text">
                            Estudiantes asignados al examen
                        </h3>
                    </div>
                </div>
            </div>
            <div class="m-portlet__body">
                <table class="table table-hover" id="assigned_students_executed"></table>
            </div>
        </div>
    }
</div>



@section Scripts {
    <script src="~/js/areas/teacher/graderecovery/detail.js" asp-append-version="true"></script>
}

