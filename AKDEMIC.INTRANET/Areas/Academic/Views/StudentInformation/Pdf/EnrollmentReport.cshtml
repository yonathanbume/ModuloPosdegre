@using AKDEMIC.REPOSITORY.Repositories.Enrollment.Templates.StudentSection
@model EnrollmentReportTemplate

@{
    Layout = null;
}

<!DOCTYPE html>


<html>
<head>
    @*<link href="~/css/pages/pdf/enrollmentreport.css" type="text/css" rel="stylesheet" />*@

    <style>
        body {
            font-family: Arial;
            font-size: 11px;
        }

        .cited-text {
            text-align: left;
            font-size: 9px;
            padding: 5px
        }

        .watermark {
            /*height: 450px;
                                    width: 600px;*/
            position: relative;
            overflow: hidden;
        }

            .watermark .watermark-text {
                position: absolute;
                top: 200px;
                left: 80px;
                color: #DEDEDE;
                font-size: 45px;
                pointer-events: none;
                -webkit-transform: rotate(-25deg);
                -moz-transform: rotate(-25deg);
            }

        .watermark-off .watermark-text {
            display: none;
        }

        .report-header {
            margin-bottom: 5px;
            min-height: 60px;
        }

            .report-header .logo-container {
                position: absolute;
            }

                .report-header .logo-container img {
                    top: 0;
                    left: 10px;
                    height: 80px;
                    width: 80px
                }

            .report-header .title-container {
                font-weight: bold;
                text-align: center;
                margin-left: 90px;
                margin-right: 90px;
            }

                .report-header .title-container h1,
                .report-header .title-container h2,
                .report-header .title-container h3 {
                    margin-bottom: 8px;
                    margin-top: 0;
                }

                .report-header .title-container label {
                    display: block;
                    padding-bottom: 8px;
                }

                .report-header .title-container .university {
                    font-size: 22px;
                }

                .report-header .title-container .header-text {
                    font-size: 19px;
                }

                .report-header .title-container .subheader-text {
                    font-size: 16px;
                }

        .information-table {
            table-layout: fixed;
            width: 100%;
        }

            .information-table tr td {
                vertical-align: top;
                padding-bottom: 10px;
            }

        .courses-information-table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid black;
            table-layout: fixed;
        }

            .courses-information-table thead th {
                text-align: center;
                border: 1px solid black;
                padding: 10px;
                background-color: #D5DCE4;
            }

            .courses-information-table tbody td.course {
                padding: 8px;
                font-size: 11px;
            }
    </style>
</head>
<body class="@(Model.IsConfirmed ? "watermark-off" : "watermark")">
    <div class="report-header">
        <div class="logo-container" style="">
            <img src="@Model.Image" />
        </div>

        <div class="title-container">
            @if (@GeneralHelpers.GetInstitutionName().Length > 45)
            {
                <label class="university" style="font-size: 20px">@GeneralHelpers.GetInstitutionName().ToUpper()</label>

            }
            else
            {
                <label class="university">@GeneralHelpers.GetInstitutionName().ToUpper()</label>
            }

            @*<label class="header-text">DIRECCIÓN DDE SERVICIOS ACADÉMICOS</label>
            <label class="subheader-text">UNIDAD DE REGISTROS ACADÉMICOS </label>*@
            <label class="header-text">@Model.HeaderText</label>
            <label class="header-text">@Model.SubHeaderText</label>
        </div>
    </div>

    <br />

    <h1 style="text-align: center">FICHA DE MATRÍCULA</h1>

    <br />
    <br />
    <br />

    <table class="information-table">
        <tr>
            <td style="width: 60%;"><strong>FACULTAD:</strong> &nbsp; @Model.FacultyName.ToUpper()</td>
            @*<td></td>*@
            <td style="width: 40%;"><strong>ESCUELA PROFESIONAL:</strong>&nbsp; @Model.SchoolName.ToUpper()</td>
        </tr>
        <tr></tr>
        <tr>
            <td style="width: 60%;"><strong>APELLIDOS Y NOMBRES:</strong>&nbsp;  @Model.StudentName.ToUpper()</td>
            @*<td></td>*@
            <td><strong>CÓDIGO DE MATRÍCULA:</strong>&nbsp; @Model.StudentCode.ToUpper()</td>
        </tr>
        <tr></tr>
        <tr>
            <td style="width: 60%;"><strong>PLAN ESTUDIOS:</strong>&nbsp; @Model.Curriculum.ToUpper()</td>
            @*<td></td>*@
            <td><strong>DOCUMENTO DE IDENTIDAD:</strong>&nbsp; @Model.Document.ToUpper()</td>
        </tr>
        <tr></tr>
        <tr>
            <td style="width: 60%;"><strong>PERIODO ACADEMICO:</strong>&nbsp;  @Model.Semester.ToUpper()</td>
            @*<td></td>*@
            <td><strong>CICLO DE ESTUDIOS REFERENCIAL:</strong>&nbsp;  @Model.CurrentSemester.ToUpper()</td>
        </tr>
    </table>

    <br />
    <br />

    <table class="courses-information-table">
        <thead>
            <tr>
                <th style="width: 40px"> N° </th>
                <th style="width: 90px"> CICLO </th>
                <th style="width: 90px"> CÓDIGO </th>
                <th colspan="2"> ASIGNATURA </th>
                <th style="width: 90px"> SECCIÓN </th>
                <th style="width: 90px"> CRÉDITOS </th>
            </tr>
        </thead>

        <tbody>
            @{
                var count = 1;
            }
            @foreach (var item in Model.Courses)
            {
                <tr>
                    <td class="course">&emsp;@count</td>
                    <td class="course">&emsp;@item.AcademicYearText</td>
                    <td class="course">&emsp;@item.CourseCode</td>
                    <td class="course" colspan="2">&emsp;@item.CourseName</td>
                    <td class="course" style="text-align: center;">&emsp;@item.Section</td>
                    <td class="course" style="text-align: center">&emsp;@item.Credits</td>
                </tr>
                count++;
            }

            @if (count <= 5)
            {
                while (count <= 5)
                {
                    <tr>
                        <td style="border-left:1px solid black">&emsp;</td>
                        <td>&emsp;</td>
                        <td>&emsp;</td>
                        <td colspan="2">&emsp;</td>
                        <td>&emsp;</td>
                        <td style="border-right:1px solid black; width: 20px">&emsp;</td>
                    </tr>
                    count++;
                }
            }

            <tr style="border:1px solid black;">
                <td style="border:1px solid black; border-right: none; vertical-align:top; padding:10px 5px 10px 5px;" colspan="4">
                    <strong>OBSERVACIONES:</strong>
                    @if (Model.IsPronabec)
                    {
                        <span> ======== V&Aacute;LIDO SOLO PARA POSTULACI&Oacute;N A BECAS PRONABEC ========</span>
                    }
                </td>

                <td style="vertical-align:top; padding:10px 5px 10px 5px; text-align: right; width: 300px;" colspan="2">
                    <strong>TOTAL DE CR&Eacute;DITOS MATRICULADOS </strong>
                </td>

                <td style="border: 1px solid black; vertical-align: top; padding: 10px 5px 10px 5px; text-align: center;">
                    <strong> @Model.Courses.Sum(x => x.Credits) </strong>
                </td>
            </tr>

            <tr style="border:1px solid black; height:140px">
                <td style="border:1px solid black; vertical-align:bottom; text-align:center; padding-bottom: 20px;" colspan="4">
                    <hr style="width:40%; border: 1px solid black;">
                    <strong>FIRMA DEL ESTUDIANTE</strong>
                </td>

                <td style="border:1px solid black;text-align:center;" colspan="3">
                    @if (!string.IsNullOrEmpty(Model.ImageQR))
                    {
                        <img style="width:300px !important;" src="@Model.SignatuareImgBase64" />
                    }
                </td>
            </tr>

            <tr style="border:1px solid black;">
                <td style="border:1px solid black; padding: 10px 5px 10px 5px;" colspan="4">
                    <strong>Fecha-Hora de matrícula:</strong> @Model.EnrollmentDate - @Model.EnrollmentHour
                </td>

                <td style="border:1px solid black; padding: 10px 5px 10px 5px;" colspan="3">
                    <strong>Fecha-Hora de impresión:</strong> @Model.PrintingDate - @Model.PrintingHour
                </td>
            </tr>
        </tbody>

    </table>

    <br />

    @*<div class="cited-text">
    Usuario:
    </div>*@
    <div class="cited-text">
        @*NOTA: Este documento no tiene validez sin la firma y el sello del personal académico encargado de la universidad.*@
        @Model.FooterText
    </div>

    <br />

    <table style="width:100% !important">
        <tr>
            <td width="35%"></td>
            <td width="30%" style="text-align:center !important;">
                @if (!string.IsNullOrEmpty(Model.ImageQR))
                {
                    <img src="@Model.ImageQR" style="height: 130px; width: 130px;">
                }
            </td>
            <td width="35%" style="text-align:center !important;">
            </td>
        </tr>
    </table>
</body>
</html>