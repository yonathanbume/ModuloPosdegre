@{
    ViewData["Title"] = "Generación de Actas Finales";
    ViewData["Breadcrumbs"] = new[] {
new BreadcrumbViewData { Name = "Generación de Actas", Area = "Admin", Controller = "EvaluationReport", Action = "EvaluationReport" },
new BreadcrumbViewData { Name = "Generación de Actas Finales" },
};
}
@section Styles {
    <style>
        input:disabled {
            cursor: not-allowed;
        }
    </style>
}
<div class="m-content">
    <div class="m-portlet">
        <div class="m-portlet__head">
            <div class="m-portlet__head-caption">
                <div class="m-portlet__head-title">
                    <h3 class="m-portlet__head-text">
                        @ViewData["Title"]
                    </h3>
                </div>
            </div>
            <div class="m-portlet__head-tools">
                <input data-switch="true" id="cbx_filters" type="checkbox" checked="checked" data-on-text="Por Docente" data-handle-width="100" data-off-text="Por Curso" data-on-color="primary" data-off-color="primary">

                @*<button data-toggle="modal" data-target="#signature_modal" class="btn btn-primary btn-sm m-btn m-btn--icon">
                        <span>
                            <i class="la la-upload"></i>
                            <span>Añadir Firma Digital</span>
                        </span>
                    </button>*@
            </div>
        </div>
        <div class="m-portlet__body">
            <div class="m-form--label-align-right m--margin-bottom-20">
                <div class="row align-items-center">
                    <div class="form-group m-form__group col-xl-2" style="">
                        <label>Periodo:</label>
                        <select id="term_select" class="m-select2"></select>
                    </div>
                    <div class="col-xl-10" style="padding-left:0px !important; padding-right:0px !important;">
                        <div class="row col-12" id="div_by_teacher">
                            <div class="form-group m-form__group col-xl-5">
                                <label>Departamento Acad&eacute;mico:</label>
                                <select id="department_select" class="m-select2 department-select">
                                    <option>Todos</option>
                                </select>
                            </div>
                            <div class="form-group m-form__group col-xl-4">
                                <label>Docente:</label>
                                <select id="teacher_select" class="m-select2">
                                    <option></option>
                                </select>
                            </div>
                            <div class="form-group m-form__group col-xl-3">
                                <label>Código de Docente:</label>
                                <div class="m-input-icon m-input-icon--left">
                                    <input type="text" class="form-control m-input" placeholder="Buscar por código..." id="teacher_code">
                                    <span class="m-input-icon__icon m-input-icon__icon--left">
                                        <span><i class="la la-search"></i></span>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="row col-12 d-none" id="div_by_course">
                            <div class="form-group m-form__group col-xl-3">
                                <label>Escuela:</label>
                                <select id="career_select" class="m-select2">
                                    <option value=" ">Todos</option>
                                </select>
                            </div>
                            <div class="form-group m-form__group col-xl-3">
                                <label>Plan de Estudio:</label>
                                <select id="curriculum_select" class="m-select2">
                                    <option>Todos</option>
                                </select>
                            </div>
                            <div class="form-group m-form__group col-xl-3">
                                <label>Ciclo:</label>
                                <select id="academic_year_select" class="m-select2">
                                    <option>Todos</option>
                                </select>
                            </div>
                            <div class="form-group m-form__group col-xl-3">
                                <label>Curso:</label>
                                <div class="m-input-icon m-input-icon--left">
                                    <input type="text" class="form-control m-input" placeholder="Buscar por curso..." id="course_search">
                                    <span class="m-input-icon__icon m-input-icon__icon--left">
                                        <span><i class="la la-search"></i></span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group m-form__group col-xl-12">
                        <button class="btn btn-primary btn-md m-btn m-btn--icon pull-right d-none" id="print_block_register">
                            <span>
                                <i class="la la-download"></i>
                                <span>Registro en Bloque</span>
                            </span>
                        </button>

                        <button class="mr-1 btn btn-primary btn-md m-btn m-btn--icon pull-right d-none @(ConstantHelpers.GENERAL.Institution.Value == ConstantHelpers.Institution.UNAMAD?"isUNAMAD":"")" id="print_block">
                            <span>
                                <i class="la la-download"></i>
                                <span>Imprimir en bloque</span>
                            </span>
                        </button>

                    </div>
                </div>
            </div>
            <table class="table table-striped table-bordered" id="data-table"></table>
        </div>
    </div>
</div>

@await Html.PartialAsync("Partials/_SignatureModal")

<div id="previewView" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            @*<div class="modal-header">
                    <h5 class="modal-title">
                        Vista previa
                    </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>*@
            <div class="modal-body">
                @*<table class="table table-striped table-bordered" id="data-table-preview"></table>*@
                <div id="preview-datatable" style="text-align:center;">

                </div>
            </div>
            <div class="modal-footer">
                <div style="text-align:right;">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                        Cerrar
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <script>
        $('[data-switch=true]').bootstrapSwitch();
    </script>
    <script src="~/js/lib/jquery.fileDownload/jquery.fileDownload.min.js"></script>
    <script src="~/js/areas/admin/evaluationreport/index.js" asp-append-version="true"></script>
}