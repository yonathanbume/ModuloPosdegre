@using AKDEMIC.INTRANET.Areas.Report.ViewModels.CourseTermViewModels
@model DetailViewModel

@{
    ViewData["Title"] = "Detalle de asistencia por curso";
    ViewData["SubTitle"] = "Detalle por estudiante";

    ViewData["Breadcrumbs"] = new[] {
        new BreadcrumbViewData { Name = "Reporte de Docentes",  Action = "Teacher" , Controller = "IntranetReport", Area = "Report" },
new BreadcrumbViewData { Name = "Cursos por Periodo" ,Area="Report",Controller="CourseTerm", Action="Index" },
new BreadcrumbViewData { Name = "Detalle de Cursos" }
};

    ViewData["BackUrl"] = Url.Action("Index", "ReportTeacher", new { Area = "Admin" });
}

@section Styles {
    <link href="~/assets/plugins/fullcalendar/fullcalendar.bundle.css" type="text/css" rel="stylesheet" asp-append-version="true" />
    <link href="~/css/areas/teacher/classschedule/index.css" type="text/css" rel="stylesheet" asp-append-version="true" />

}
<div class="m-content">
    <input asp-for="CurriculumId" type="hidden" />
    <input asp-for="TermId" type="hidden" />
    <input asp-for="CourseId" type="hidden" />
    <input asp-for="AcademicYear" type="hidden" />

    <div class="m-portlet m-portlet--responsive-mobile">
        <div class="m-portlet__head">
            <div class="m-portlet__head-caption">
                <div class="m-portlet__head-title">
                    <h3 class="m-portlet__head-text">
                        Información de los cursos asignados al docente
                    </h3>
                </div>
            </div>
            <div class="m-portlet__head-tools">
            </div>
        </div>
        <div class="m-portlet__body">
            <div class="row mb-1">
                <div class="col-md-2">
                    <label><b>Escuela Profesional: </b></label>
                </div>
                <div class="col-sm-3">
                    <label>@Model.Career</label>
                </div>
                <div class="col-md-1">
                    <label><b>Plan: </b></label>
                </div>
                <div class="col-sm-1">
                    <label>@Model.Curriculum</label>
                </div>                
                <div class="col-md-1">
                    <label><b>Ciclo: </b></label>
                </div>
                <div class="col-sm-1">
                    <select class="m-select2" id="academicyear-select"></select>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-2">
                    <label><b>Curso: </b></label>
                </div>
                <div class="col-sm-5">
                    <select class="m-select2" id="course_select2"></select>
                </div>
                <div class="col-sm-2">
                    <label><b>Secci&oacute;n:</b></label>
                </div>
                <div class="col-sm-3">
                    <select class="m-select2" id="section_select2"></select>
                </div>
            </div>
        </div>
    </div>


    <div class="m-portlet m-portlet--tabs">
        <div class="m-portlet__head">
            <div class="m-portlet__head-tools">
                <ul class="nav nav-fill m-tabs-line m-tabs-line--primary m-tabs-line--2x" role="tablist">
                    <li class="nav-item m-tabs__item">
                        <a class="nav-link m-tabs__link active" href="#tab_1" data-toggle="tab" role="tab">
                            <i class="la la-info-circle"></i>
                            Asistencia
                        </a>
                    </li>
                    <li class="nav-item m-tabs__item">
                        <a class="nav-link m-tabs__link" href="#tab_2" data-toggle="tab" role="tab">
                            <i class="fa fa-users"></i>
                            Calificaciones
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="m-portlet__body">
            <div class="tab-content">
                <div class="tab-pane active" id="tab_1" role="tabpanel">
                    @if (User.IsInRole(ConstantHelpers.ROLES.SUPERADMIN))
                    {
                        <div class="row col-12 d-flex justify-content-end pr-0">
                            <button id="clean_grades" data-id="0" class="btn btn-primary btn-sm m-btn m-btn m-btn--icon">
                                <span>
                                    <i class="la la-edit"></i>
                                    <span>Limpiar asistencias</span>
                                </span>
                            </button>
                        </div>
                    }
                    <table class="table table-striped table-bordered" id="assistance-table"></table>
                </div>
                <div class="tab-pane" id="tab_2" role="tabpanel">
                    <div id="grades_partial"></div>

                    <table class="table table-striped table-bordered" id="grades-table"></table>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/assets/plugins/fullcalendar/fullcalendar.bundle.js"></script>
    <script src="~/js/areas/report/courseterm/detail.js" asp-append-version="true"></script>
}